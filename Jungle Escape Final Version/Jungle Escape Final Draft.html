<!DOCTYPE html>
<!--[if lte IE 8]><html class="lt-ie9"><![endif]-->
<!--[if gt IE 8]><!--><html><!--<![endif]-->
<head>
<meta charset="utf-8">
<title>Jungle Escape Final Draft</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<!--
Made in Twine 1.4.2 (running on Windows 8)
Built on 05 Feb 2017 at 15:31:24, -0800

Sugarcane is based on:

TiddlyWiki 1.2.39 by Jeremy Ruston, (jeremy [at] osmosoft [dot] com)

Published under a BSD open source license

Copyright (c) Osmosoft Limited 2005

Redistribution and use in source and binary forms, with or without modification,
are permitted provided that the following conditions are met:

Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.

Redistributions in binary form must reproduce the above copyright notice, this
list of conditions and the following disclaimer in the documentation and/or other
materials provided with the distribution.

Neither the name of the Osmosoft Limited nor the names of its contributors may be
used to endorse or promote products derived from this software without specific
prior written permission.

THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY
EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT
SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT,
INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED
TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR
BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN
ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH
DAMAGE.
-->
<script title="engine">
(function(){

function clone(a){var constructor,b,proto;if(!a||typeof a!="object"){return a
}constructor=a.constructor;if(constructor==Date||constructor==RegExp){b=new constructor(a)}else{if(constructor==Array){b=[]}else{if(a.nodeType&&typeof a.cloneNode=="function"){b=a.cloneNode(true)}else{proto=(typeof Object.getPrototypeOf=="function"?Object.getPrototypeOf(a):a.__proto__);b=proto?Object.create(proto):{}}}}for(var property in a){if(Object.prototype.hasOwnProperty.call(a,property)&&!isCyclic(a[property])){if(typeof a[property]=="object"){try{b[property]=clone(a[property]);continue}catch(e){}}b[property]=a[property]}}return b}function isCyclic(obj){var properties=[];return(function recurse(obj){var key,i,ownProps=[];if(obj&&typeof obj=="object"){if(properties.indexOf(obj)>-1){return true
}properties.push(obj);for(key in obj){if(Object.prototype.hasOwnProperty.call(obj,key)&&recurse(obj[key])){return true
}}}return false}(obj))}function insertElement(a,d,f,c,e){var b=document.createElement(d);if(f){b.id=f}if(c){b.className=c}if(e){insertText(b,e)}if(a){a.appendChild(b)}return b}function addClickHandler(el,fn){if(el.addEventListener){el.addEventListener("click",fn)}else{if(el.attachEvent){el.attachEvent("onclick",fn)}}}function insertText(a,b){return a.appendChild(document.createTextNode(b))}function removeChildren(a){while(a.hasChildNodes()){a.removeChild(a.firstChild)}}function findPassageParent(el){while(el&&el!=document.body&&!~el.className.indexOf("passage")){el=el.parentNode}return el==document.body?null:el}function setPageElement(c,b,a){var place;if(place=(typeof c=="string"?document.getElementById(c):c)){removeChildren(place);if(tale.has(b)){new Wikifier(place,tale.get(b).processText())}else{new Wikifier(place,a)}}}var scrollWindowInterval;function scrollWindowTo(e,margin){var d=window.scrollY?window.scrollY:document.documentElement.scrollTop,m=window.innerHeight?window.innerHeight:document.documentElement.clientHeight,g=k(e),j=(d>g)?-1:1,b=0,c=Math.abs(d-g);scrollWindowInterval&&window.clearInterval(scrollWindowInterval);if(c){scrollWindowInterval=window.setInterval(h,25)}function h(){b+=0.1;window.scrollTo(0,d+j*(c*Math.easeInOut(b)));if(b>=1){window.clearInterval(scrollWindowInterval)}}function k(o){var p=a(o),h=o.offsetHeight,n=d+m;p=Math.min(Math.max(p+(margin||0)*(p<d?-1:1),0),n);if(p<d){return p
}else{if(p+h>n){if(h<m){return(p-(m-h)+20)}else{return p
}}else{return p
}}}function a(l){var m=0;while(l.offsetParent){m+=l.offsetTop;l=l.offsetParent}return m}}function delta(old,neu){var vars,ret={};if(old&&neu){for(vars in neu){if(neu[vars]!==old[vars]){ret[vars]=neu[vars]}}}return ret}function decompile(val){var i,ret;if((typeof val!="object"&&typeof val!="function")||!val){return val
}else{if(val instanceof Passage){return{"[[Passage]]":val.id}}else{if(Array.isArray(val)){ret=[]}else{ret={}}}}for(i in val){if(Object.prototype.hasOwnProperty.call(val,i)&&!isCyclic(val[i])){ret[i]=decompile(val[i])}}if(typeof val=="function"||val instanceof RegExp){try{internalEval(val+"");ret["[[Call]]"]=val+""}catch(e){ret["[[Call]]"]="function(){}"}}return ret}function recompile(val){var i,ret=val;if(val&&typeof val=="object"){if(typeof val["[[Passage]]"]=="number"){return tale.get(val["[[Passage]]"])}if(typeof val["[[Call]]"]=="string"){try{ret=internalEval(val["[[Call]]"])}catch(e){}}for(i in val){if(Object.prototype.hasOwnProperty.call(val,i)){ret[i]=recompile(val[i])}}}return ret}function addStyle(b){if(document.createStyleSheet){document.getElementsByTagName("head")[0].insertAdjacentHTML("beforeEnd","&nbsp;<style>"+b+"</style>")}else{var a=document.createElement("style");a.appendChild(document.createTextNode(b));document.getElementsByTagName("head")[0].appendChild(a)}}function alterCSS(text){var temp="",imgPassages=tale.lookup("tags","Twine.image");text=text.replace(/\/\*(?:[^\*]|\*(?!\/))*\*\//g,"");text=text.replace(/:link/g,"[class*=Link]");text=text.replace(/:visited/g,".visitedLink");text=text.replace(/@import\s+(?:url\s*\(\s*['"]?|['"])[^"'\s]+(?:['"]?\s*\)|['"])\s*([\w\s\(\)\d\:,\-]*);/g,function(e){temp+=e;return""});text=temp+text;return text.replace(new RegExp(Wikifier.imageFormatter.lookahead,"gim"),function(m,p1,p2,p3,src){for(var i=0;i<imgPassages.length;i++){if(imgPassages[i].title==src){src=imgPassages[i].text;break}}return"url("+src+")"})}function setTransitionCSS(styleText){styleText=alterCSS(styleText);var style=document.getElementById("transitionCSS");style.styleSheet?(style.styleSheet.cssText=styleText):(style.innerHTML=styleText)}function throwError(a,b,tooltip){if(a){var elem=insertElement(a,"span",null,"marked",b);tooltip&&elem.setAttribute("title",tooltip)}else{alert("Regrettably, this "+tale.identity()+"'s code just ran into a problem:\n"+b+".\n"+softErrorMessage)}}Math.easeInOut=function(a){return(1-((Math.cos(a*Math.PI)+1)/2))};String.prototype.readMacroParams=function(keepquotes){var exec,re=/(?:\s*)(?:(?:"([^"]*)")|(?:'([^']*)')|(?:\[\[((?:[^\]]|\](?!\]))*)\]\])|([^"'\s]\S*))/mg,params=[];do{var val;exec=re.exec(this);if(exec){if(exec[1]){val=exec[1];keepquotes&&(val='"'+val+'"')}else{if(exec[2]){val=exec[2];keepquotes&&(val="'"+val+"'")}else{if(exec[3]){val=exec[3];keepquotes&&(val='"'+val.replace('"','\\"')+'"')}else{if(exec[4]){val=exec[4]}}}}val&&params.push(val)}}while(exec);return params};String.prototype.readBracketedList=function(){var c,b="\\[\\[([^\\]]+)\\]\\]",a="[^\\s$]+",e="(?:"+b+")|("+a+")",d=new RegExp(e,"mg"),f=[];do{c=d.exec(this);if(c){if(c[1]){f.push(c[1])}else{if(c[2]){f.push(c[2])}}}}while(c);return(f)};function rot13(s){return s.replace(/[a-zA-Z]/g,function(c){return String.fromCharCode((c<="Z"?90:122)>=(c=c.charCodeAt()+13)?c:c-26)})}Object.create||(function(){var F=function(){};Object.create=function(o){if(typeof o!="object"){throw TypeError()}F.prototype=o;return new F()}})();String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s\s*/,"").replace(/\s\s*$/,"")});Array.isArray||(Array.isArray=function(arg){return Object.prototype.toString.call(arg)==="[object Array]"});Array.prototype.indexOf||(Array.prototype.indexOf=function(b,d){d=(d==null)?0:d;var a=this.length;for(var c=d;c<a;c++){if(this[c]==b){return c
}}return -1});Array.prototype.forEach||(Array.prototype.forEach=function(fun){if(this==null){throw TypeError()}var t=Object(this);var len=+t.length;if(typeof fun!="function"){throw TypeError()}var thisArg=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<len;i++){if(i in t){fun.call(thisArg,t[i],i,t)}}});(function(){function t(t){this.message=t}var e=window,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";t.prototype=Error(),t.prototype.name="InvalidCharacterError",e.btoa||(e.btoa=function(e){for(var o,n,a=0,i=r,c="";e.charAt(0|a)||(i="=",a%1);c+=i.charAt(63&o>>8-8*(a%1))){if(n=e.charCodeAt(a+=0.75),n>255){throw new t()}o=o<<8|n}return c}),e.atob||(e.atob=function(e){if(e=e.replace(/=+$/,""),1==e.length%4){throw new t()}for(var o,n,a=0,i=0,c="";n=e.charAt(i++);~n&&(o=a%4?64*o+n:n,a++%4)?c+=String.fromCharCode(255&o>>(6&-2*a)):0){n=r.indexOf(n)}return c})})();var hasTransition="transition" in document.documentElement.style||"-webkit-transition" in document.documentElement.style;function fade(f,c){var h;var e=f.cloneNode(true);var g=(c.fade=="in")?1:-1;f.parentNode.replaceChild(e,f);if(c.fade=="in"){h=0;e.style.visibility="visible"}else{h=1
}b(e,h);var a=window.setInterval(d,25);function d(){h+=0.05*g;b(e,Math.easeInOut(h));if(((g==1)&&(h>=1))||((g==-1)&&(h<=0))){f.style.visibility=(c.fade=="in")?"visible":"hidden";if(e.parentNode){e.parentNode.replaceChild(f,e)}window.clearInterval(a);if(c.onComplete){c.onComplete.call(f)}}}function b(k,j){var l=Math.floor(j*100);k.style.zoom=1;k.style.filter="alpha(opacity="+l+")";k.style.opacity=j}}function History(){this.history=[{passage:null,variables:{}}];this.id=new Date().getTime()+"";this.hash=""}History.prototype.encodeHistory=function(b,noVars){var ret=".",vars,type,hist=this.history[b],d=this.history[b+1]?delta(this.history[b+1].variables,hist.variables):hist.variables;function vtob(val){try{return window.btoa(unescape(encodeURIComponent(JSON.stringify(decompile(val)))))}catch(e){return"0"
}}if(!hist.passage||hist.passage.id==null){return""
}ret+=hist.passage.id.toString(36);if(noVars){return ret
}for(vars in d){type=typeof d[vars];if(type!="undefined"){ret+="$"+vtob(vars)+","+vtob(d[vars])}}for(vars in hist.linkVars){type=typeof hist.linkVars[vars];if(type!="function"&&type!="undefined"){ret+="["+vtob(vars)+","+vtob(hist.linkVars[vars])}}return ret};History.decodeHistory=function(str,prev){var name,splits,variable,c,d,ret={variables:clone(prev.variables)||{}},match=/([a-z0-9]+)((?:\$[A-Za-z0-9\+\/=]+,[A-Za-z0-9\+\/=]+)*)((?:\[[A-Za-z0-9\+\/=]+,[A-Za-z0-9\+\/=]+)*)/g.exec(str);function btov(str){try{return recompile(JSON.parse(decodeURIComponent(escape(window.atob(str)))))}catch(e){return 0
}}if(match){name=parseInt(match[1],36);if(!tale.has(name)){return false
}if(match[2]){ret.variables||(ret.variables={});splits=match[2].split("$");for(c=0;c<splits.length;c++){variable=splits[c].split(",");d=btov(variable[0]);if(d){ret.variables[d]=btov(variable[1])}}}if(match[3]){ret.linkVars||(ret.linkVars={});splits=match[3].split("[");for(c=0;c<splits.length;c++){variable=splits[c].split(",");d=btov(variable[0]);if(d){ret.linkVars[d]=btov(variable[1])}}}ret.passage=tale.get(name);return ret}};History.prototype.save=function(){var hist,b,a="";for(b=this.history.length-1;b>=0;b--){hist=this.history[b];if(!hist){break
}a+=this.encodeHistory(b)}return"#"+a};History.prototype.restore=function(){var a,b,c,vars;try{if(!window.location.hash||(window.location.hash=="#")){if(testplay){if(tale.has("StoryInit")){new Wikifier(insertElement(null,"span"),tale.get("StoryInit").text)}this.display(testplay,null,"quietly");return true}return false}if(window.location.hash.substr(0,2)=="#!"){c=window.location.hash.substr(2).split("_").join(" ");this.display(c,null,"quietly");return true}a=window.location.hash.replace("#","").split(".");for(b=0;b<a.length;b++){vars=History.decodeHistory(a[b],vars||{});if(vars){if(b==a.length-1){vars.variables=clone(this.history[0].variables);for(c in this.history[0].linkVars){vars.variables[c]=clone(this.history[0].linkVars[c])}this.history.unshift(vars);this.display(vars.passage.title,null,"back")}else{this.history.unshift(vars)}}}return true}catch(d){return false
}};History.prototype.saveVariables=function(c,el,callback){if(typeof callback=="function"){callback.call(el)}this.history.unshift({passage:c,variables:clone(this.history[0].variables)})};var restart=History.prototype.restart=function(){if(typeof window.history.replaceState=="function"){(typeof this.pushState=="function")&&this.pushState(true,window.location.href.replace(/#.*$/,""));window.location.reload()}else{window.location.hash=""}};var version={major:4,minor:2,revision:0,date:new Date("2014"),extensions:{}};var testplay,tale,state,prerender={},postrender={},macros=window.macros={};version.extensions.displayMacro={major:2,minor:0,revision:0};macros.display={parameters:[],handler:function(place,macroName,params,parser){var t,j,output,oldDisplayParams,name=parser.fullArgs();if(macroName!="display"){output=macroName;params=parser.fullMatch().replace(/^\S*|>>$/g,"").readMacroParams(true);try{for(j=0;j<params.length;j++){params[j]=internalEval(Wikifier.parse(params[j]))}}catch(e){throwError(place,parser.fullMatch()+" bad argument: "+params[j],parser.fullMatch());return}}else{try{output=internalEval(name)}catch(e){}if(output==null){if(tale.has(name)){output=name
}}}if(!output){throwError(place,"<<"+macroName+'>>: "'+name+'" did not evaluate to a passage name',parser.fullMatch())}else{if(!tale.has(output+"")){throwError(place,"<<"+macroName+'>>: The "'+output+'" passage does not exist',parser.fullMatch())}else{oldDisplayParams=this.parameters;this.parameters=params;t=tale.get(output+"");if(t.tags.indexOf("script")>-1){scriptEval(t)}else{new Wikifier(place,t.processText())}this.parameters=oldDisplayParams
}}}};version.extensions.actionsMacro={major:1,minor:2,revision:0};macros.actions={handler:function(a,f,g){var v=state.history[0].variables,e=insertElement(a,"ul");if(!v["actions clicked"]){v["actions clicked"]={}}for(var b=0;b<g.length;b++){if(v["actions clicked"][g[b]]){continue
}var d=insertElement(e,"li");var c=Wikifier.createInternalLink(d,g[b],(function(link){return function(){state.history[0].variables["actions clicked"][link]=true}}(g[b])));insertText(c,g[b])}}};version.extensions.printMacro={major:1,minor:1,revision:1};macros.print={handler:function(place,macroName,params,parser){var args=parser.fullArgs(macroName!="print"),output;try{output=internalEval(args);if(output!=null&&(typeof output!="number"||!isNaN(output))){new Wikifier(place,""+output)}}catch(e){throwError(place,"<<print>> bad expression: "+params.join(" "),parser.fullMatch())}}};version.extensions.setMacro={major:1,minor:1,revision:0};macros.set={handler:function(a,b,c,parser){macros.set.run(a,parser.fullArgs(),parser,c.join(" "))},run:function(a,expression,parser,original){try{return internalEval(expression)}catch(e){throwError(a,"bad expression: "+(original||expression),parser?parser.fullMatch():expression)}}};version.extensions.ifMacros={major:2,minor:0,revision:0};macros["if"]={handler:function(place,macroName,params,parser){var conditions=[],clauses=[],rawConds=[],srcOffset=parser.source.indexOf(">>",parser.matchStart)+2,src=parser.source.slice(srcOffset),endPos=-1,rawCond=params.join(" "),currentCond=parser.fullArgs(),currentClause="",t=0,nesting=0,i=0;for(;i<src.length;i++){if((src.substr(i,6)=="<<else")&&!nesting){rawConds.push(rawCond);conditions.push(currentCond.trim());clauses.push(currentClause);currentClause="";t=src.indexOf(">>",i+6);if(src.substr(i+6,4)==" if "||src.substr(i+6,3)=="if "){rawCond=src.slice(i+9,t);currentCond=Wikifier.parse(rawCond)}else{rawCond="";currentCond="true"}i=t+2}if(src.substr(i,5)=="<<if "){nesting++
}if(src.substr(i,9)=="<<endif>>"){nesting--;if(nesting<0){endPos=srcOffset+i+9;rawConds.push(rawCond);conditions.push(currentCond.trim());clauses.push(currentClause);break}}currentClause+=src.charAt(i)}if(endPos!=-1){parser.nextMatch=endPos;try{for(i=0;i<clauses.length;i++){if(internalEval(conditions[i])){new Wikifier(place,clauses[i]);break}}}catch(e){throwError(place,"<<"+(i?"else ":"")+"if>> bad condition: "+rawConds[i],!i?parser.fullMatch():"<<else if "+rawConds[i]+">>")}}else{throwError(place,"I can't find a matching <<endif>>",parser.fullMatch())}}};macros["else"]=macros.elseif=macros.endif={handler:function(){}};version.extensions.rememberMacro={major:2,minor:0,revision:0};macros.remember={handler:function(place,macroName,params,parser){var variable,value,re,match,statement=params.join(" ");macros.set.run(place,parser.fullArgs(),null,params.join(" "));if(!window.localStorage){throwError(place,"<<remember>> can't be used "+(window.location.protocol=="file:"?" by local HTML files ":"")+" in this browser.",parser.fullMatch());return}re=new RegExp(Wikifier.textPrimitives.variable,"g");while(match=re.exec(statement)){variable=match[1];value=state.history[0].variables[variable];try{value=JSON.stringify(value)}catch(e){throwError(place,"can't <<remember>> the variable $"+variable+" ("+(typeof value)+")",parser.fullMatch());return}window.localStorage[this.prefix+variable]=value}},init:function(){var i,variable,value;if(tale.has("StoryTitle")){this.prefix="Twine."+tale.title+"."}else{this.prefix="Twine.Untitled Story."}for(i in window.localStorage){if(i.indexOf(this.prefix)==0){variable=i.substr(this.prefix.length);value=window.localStorage[i];try{value=JSON.parse(value);state.history[0].variables[variable]=value}catch(e){}}}},expire:null,prefix:null};version.extensions.forgetMacro={major:1,minor:0,revision:0};macros.forget={handler:function(place,macroName,params){var re,match,variable,statement=params.join(" ");re=new RegExp(Wikifier.textPrimitives.variable,"g");while(match=re.exec(statement)){variable=match[1]+"";delete state.history[0].variables[variable];delete window.localStorage[macros.remember.prefix+variable]}}};version.extensions.SilentlyMacro={major:1,minor:1,revision:0};macros.nobr=macros.silently={handler:function(place,macroName,f,parser){var i,h=insertElement(null,"div"),k=parser.source.indexOf(">>",parser.matchStart)+2,a=parser.source.slice(k),d=-1,c="",l=0;for(i=0;i<a.length;i++){if(a.substr(i,macroName.length+7)=="<<end"+macroName+">>"){if(l==0){d=k+i+macroName.length+7;break}else{l--
}}else{if(a.substr(i,macroName.length+4)=="<<"+macroName+">>"){l++
}}if(macroName=="nobr"&&a.charAt(i)=="\n"){c+="\u200c"}else{c+=a.charAt(i)}}if(d!=-1){new Wikifier(macroName=="nobr"?place:h,c);parser.nextMatch=d}else{throwError(place,"can't find matching <<end"+macroName+">>",parser.fullMatch())}}};macros.endsilently={handler:function(){}};version.extensions.choiceMacro={major:2,minor:0,revision:0};macros.choice={callback:function(){var i,other,passage=findPassageParent(this);if(passage){other=passage.querySelectorAll(".choice");for(i=0;i<other.length;i++){other[i].outerHTML="<span class=disabled>"+other[i].innerHTML+"</span>"}state.history[0].variables["choice clicked"][passage.id.replace(/\|[^\]]*$/,"")]=true}},handler:function(A,C,D,parser){var link,id,match,text=D[1]||D[0].split("|")[0],passage=findPassageParent(A);if(!passage){throwError(A,"<<"+C+">> can't be used here.",parser.fullMatch());return}id=(passage&&passage.id.replace(/\|[^\]]*$/,""));if(id&&(state.history[0].variables["choice clicked"]||(state.history[0].variables["choice clicked"]={}))[id]){insertElement(A,"span",null,"disabled",text)}else{match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){link=Wikifier.linkFormatter.makeLink(A,match,this.callback)}else{link=Wikifier.linkFormatter.makeLink(A,[0,text,D[0]],this.callback)}link.className+=" "+C}}};version.extensions.backMacro={major:2,minor:0,revision:0};macros.back={labeltext:"&#171; back",handler:function(a,b,e,parser){var labelParam,c,el,labeltouse=this.labeltext,steps=1,stepsParam=e.indexOf("steps"),stepsParam2="";if(stepsParam>0){stepsParam2=e[stepsParam-1];if(stepsParam2[0]=="$"){try{stepsParam2=internalEval(Wikifier.parse(stepsParam2))}catch(r){throwError(a,parser.fullMatch()+" bad expression: "+r.message,parser.fullMatch());return}}steps=+stepsParam2;if(steps>=state.history.length-1){steps=state.history.length-2}e.splice(stepsParam-1,2)}labelParam=e.indexOf("label");if(labelParam>-1){if(!e[labelParam+1]){throwError(a,parser.fullMatch()+": "+e[labelParam]+" keyword needs an additional label parameter",parser.fullMatch());return}labeltouse=e[labelParam+1];e.splice(labelParam,2)}if(stepsParam<=0){if(e[0]){if(e[0].charAt(0)=="$"){try{e=internalEval(Wikifier.parse(e[0]))}catch(r){throwError(a,parser.fullMatch()+" bad expression: "+r.message,parser.fullMatch());return}}else{e=e[0]}if(!tale.has(e)){throwError(a,'The "'+e+'" passage does not exist',parser.fullMatch());return}for(c=0;c<state.history.length;c++){if(state.history[c].passage.title==e){steps=c;break}}}}el=document.createElement("a");el.className=b;addClickHandler(el,(function(b){return function(){return macros.back.onclick(b=="back",steps,el)}}(b)));el.innerHTML=labeltouse;a.appendChild(el)}};version.extensions.returnMacro={major:2,minor:0,revision:0};macros["return"]={labeltext:"&#171; return",handler:function(a,b,e){macros.back.handler.call(this,a,b,e)}};version.extensions.textInputMacro={major:2,minor:0,revision:0};macros.checkbox=macros.radio=macros.textinput={handler:function(A,C,D,parser){var match,class_=C.replace("input","Input"),q=A.querySelectorAll("input"),id=class_+"|"+((q&&q.length)||0);input=insertElement(null,"input",id,class_);input.name=D[0];input.type=C.replace("input","");A.appendChild(input);if(C=="textinput"&&D[1]){match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){Wikifier.linkFormatter.makeLink(A,match,macros.button.callback,"button")}else{Wikifier.linkFormatter.makeLink(A,[0,(D[2]||D[1]),D[1]],macros.button.callback,"button")}}else{if((C=="radio"||C=="checkbox")&&D[1]){input.value=D[1];insertElement(A,"label","","",D[1]).setAttribute("for",id);if(D[2]){insertElement(A,"br");D.splice(1,1);macros[C].handler(A,C,D)}}}}};version.extensions.buttonMacro={major:1,minor:0,revision:0};macros.button={callback:function(){var el=findPassageParent(this);if(el){var inputs=el.querySelectorAll("input");for(i=0;i<inputs.length;i++){if(inputs[i].type!="checkbox"&&(inputs[i].type!="radio"||inputs[i].checked)){macros.set.run(null,Wikifier.parse(inputs[i].name+' = "'+inputs[i].value.replace(/"/g,'\\"')+'"'))}else{if(inputs[i].type=="checkbox"&&inputs[i].checked){macros.set.run(null,Wikifier.parse(inputs[i].name+" = [].concat("+inputs[i].name+" || []);"));macros.set.run(null,Wikifier.parse(inputs[i].name+'.push("'+inputs[i].value.replace(/"/g,'\\"')+'")'))}}}}},handler:function(A,C,D,parser){var link,match=new RegExp(Wikifier.linkFormatter.lookahead).exec(parser.fullMatch());if(match){Wikifier.linkFormatter.makeLink(A,match,this.callback,"button")}else{Wikifier.linkFormatter.makeLink(A,[0,D[1]||D[0],D[0]],this.callback,"button")}}};function Passage(c,b,a,ofunc){var t;if(!this||this.constructor!=Passage){throw new ReferenceError("passage() must be in lowercase")}this.title=c;ofunc=typeof ofunc=="function"&&ofunc;if(b){this.id=a;this.tags=b.getAttribute("tags");if(typeof this.tags=="string"){if(ofunc){this.tags=ofunc(this.tags)}this.tags=this.tags.readBracketedList()}else{this.tags=[]}t=b.firstChild?b.firstChild.nodeValue:"";if(ofunc&&!this.isImage()){this.text=ofunc(Passage.unescapeLineBreaks(t))}else{this.text=Passage.unescapeLineBreaks(t)}if(!this.isImage()){this.preloadImages()}if(/\.char\b|\[data\-char\b/.exec(this.text)&&Wikifier.charSpanFormatter){Wikifier.formatters.push(Wikifier.charSpanFormatter);delete Wikifier.charSpanFormatter}}else{this.text="@@This passage does not exist: "+c+"@@";this.tags=[]}}Passage.prototype.isImage=function(){return !!~(this.tags.indexOf("Twine.image"))};Passage.prototype.preloadImages=function(){var u="\\s*['\"]?([^\"'$]+\\.(jpe?g|a?png|gif|bmp|webp|svg))['\"]?\\s*",k=function(c,e){var i,d;do{d=c.exec(this.text);if(d){i=new Image();i.src=d[e]}}while(d);return k};k.call(this,new RegExp(Wikifier.imageFormatter.lookahead.replace("[^\\[\\]\\|]+",u),"mg"),4).call(this,new RegExp("url\\s*\\("+u+"\\)","mig"),1).call(this,new RegExp("src\\s*="+u,"mig"),1)};Passage.unescapeLineBreaks=function(a){if(a&&typeof a=="string"){return a.replace(/\\n/mg,"\n").replace(/\\t/mg,"\t").replace(/\\s/mg,"\\").replace(/\\/mg,"\\").replace(/\r/mg,"")}else{return""
}};Passage.prototype.setTags=function(b){var t=this.tags!=null&&this.tags.length?this.tags.join(" "):"";if(t){b.setAttribute("data-tags",this.tags.join(" "))}document.body.setAttribute("data-tags",t)};Passage.prototype.processText=function(){var ret=this.text;if(~this.tags.indexOf("nobr")){ret=ret.replace(/\n/g,"\u200c")}if(this.isImage()){ret="[img["+ret+"]]"}return ret};function Tale(){var a,b,c,lines,i,kv,nsc,isImage,settings=this.storysettings={lookup:function(a,dfault){if(!(a in this)){return dfault
}return(this[a]+"")!="off"}},tiddlerTitle="";window.tale=this;this.passages={};if(document.normalize){document.normalize()}a=document.getElementById("storeArea").children;for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&c.getAttribute("tiddler")=="StorySettings"){lines=new Passage("StorySettings",c,0,null,null).text.split("\n");for(i in lines){if(typeof lines[i]=="string"&&lines[i].indexOf(":")>-1){kv=lines[i].toLowerCase().split(":");kv[0]=kv[0].replace(/^\s+|\s+$/g,"");kv[1]=kv[1].replace(/^\s+|\s+$/g,"");if(kv[0]!="lookup"){settings[kv[0]]=kv[1]}}}}}if(settings.obfuscate=="rot13"){for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){isImage=(c.getAttribute("tags")+"").indexOf("Twine.image")>-1;if(tiddlerTitle!="StorySettings"&&!isImage){tiddlerTitle=rot13(tiddlerTitle)}this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b+1,!isImage&&rot13)
}}}else{for(b=0;b<a.length;b++){c=a[b];if(c.getAttribute&&(tiddlerTitle=c.getAttribute("tiddler"))){this.passages[tiddlerTitle]=new Passage(tiddlerTitle,c,b,null,null)}}}}Tale.prototype.has=function(a){if(typeof a=="string"){return(this.passages[a]!=null)}else{for(var i in this.passages){if(this.passages[i].id==a){return true
}}return false}};Tale.prototype.get=function(a){if(typeof a=="string"){return this.passages[a]||new Passage(a)}else{for(var i in this.passages){if(this.passages[i].id==a){return this.passages[i]}}}};Tale.prototype.lookup=function(h,g,a){var d=[];for(var c in this.passages){var f=this.passages[c];for(var b=0;b<f[h].length;b++){if(f[h][b]==g){d.push(f)}}}if(!a){a="title"
}d.sort(function(k,j){if(k[a]==j[a]){return(0)}else{return(k[a]<j[a])?-1:+1}});return d};Tale.prototype.canUndo=function(){return this.storysettings.lookup("undo",true)};Tale.prototype.identity=function(){var meta=document.querySelector("meta[name='identity']"),identity=meta?meta.getAttribute("content"):"story";return(Tale.prototype.identity=function(){return identity
})()};Tale.prototype.forEachStylesheet=function(tags,callback){var passage,i;tags=tags||[];if(typeof callback!="function"){return
}for(passage in this.passages){passage=tale.passages[passage];if(passage&&~passage.tags.indexOf("stylesheet")){for(i=0;i<tags.length;i++){if(~passage.tags.indexOf(tags[i])){callback(passage);break}}}}};Tale.prototype.setPageElements=function(){var storyTitle,defaultTitle="Jungle Escape Final Draft";setPageElement("storyTitle","StoryTitle",defaultTitle);storyTitle=document.getElementById("storyTitle");document.title=this.title=(storyTitle&&(storyTitle.textContent||storyTitle.innerText))||defaultTitle;setPageElement("storySubtitle","StorySubtitle","");if(tale.has("StoryAuthor")){setPageElement("titleSeparator",null,"\n");setPageElement("storyAuthor","StoryAuthor","")}if(tale.has("StoryMenu")){document.getElementById("storyMenu").setAttribute("style","");setPageElement("storyMenu","StoryMenu","")}};function Wikifier(place,source){this.source=source;this.output=place;this.nextMatch=0;this.assembleFormatterMatches(Wikifier.formatters);this.subWikify(this.output)}Wikifier.textPrimitives={upperLetter:"[A-Z\u00c0-\u00de\u0150\u0170]",lowerLetter:"[a-z\u00df-\u00ff_0-9\\-\u0151\u0171]",anyLetter:"[A-Za-z\u00c0-\u00de\u00df-\u00ff_0-9\\-\u0150\u0170\u0151\u0171]"};Wikifier.textPrimitives.variable="\\$((?:"+Wikifier.textPrimitives.anyLetter.replace("\\-","")+"*"+Wikifier.textPrimitives.anyLetter.replace("0-9\\-","")+"+"+Wikifier.textPrimitives.anyLetter.replace("\\-","")+"*)+)";Wikifier.textPrimitives.unquoted="(?=(?:[^\"'\\\\]*(?:\\\\.|'(?:[^'\\\\]*\\\\.)*[^'\\\\]*'|\"(?:[^\"\\\\]*\\\\.)*[^\"\\\\]*\"))*[^'\"]*$)";Wikifier.prototype.assembleFormatterMatches=function(formatters){this.formatters=[];var pattern=[];for(var n=0;n<formatters.length;n++){pattern.push("("+formatters[n].match+")");this.formatters.push(formatters[n])}this.formatterRegExp=new RegExp(pattern.join("|"),"mg")};Wikifier.prototype.subWikify=function(output,terminator){var terminatorMatch,formatterMatch,oldOutput=this.output;this.output=output;var terminatorRegExp=terminator?new RegExp("("+terminator+")","mg"):null;do{this.formatterRegExp.lastIndex=this.nextMatch;if(terminatorRegExp){terminatorRegExp.lastIndex=this.nextMatch}formatterMatch=this.formatterRegExp.exec(this.source);terminatorMatch=terminatorRegExp?terminatorRegExp.exec(this.source):null;if(terminatorMatch&&(!formatterMatch||terminatorMatch.index<=formatterMatch.index)){if(terminatorMatch.index>this.nextMatch){this.outputText(this.output,this.nextMatch,terminatorMatch.index)}this.matchStart=terminatorMatch.index;this.matchLength=terminatorMatch[1].length;this.matchText=terminatorMatch[1];this.nextMatch=terminatorMatch.index+terminatorMatch[1].length;this.output=oldOutput;return}else{if(formatterMatch){if(formatterMatch.index>this.nextMatch){this.outputText(this.output,this.nextMatch,formatterMatch.index)}this.matchStart=formatterMatch.index;this.matchLength=formatterMatch[0].length;this.matchText=formatterMatch[0];this.nextMatch=this.formatterRegExp.lastIndex;var matchingFormatter=-1;for(var t=1;t<formatterMatch.length;t++){if(formatterMatch[t]){matchingFormatter=t-1;break}}if(matchingFormatter!=-1){this.formatters[matchingFormatter].handler(this)}}}}while(terminatorMatch||formatterMatch);if(this.nextMatch<this.source.length){this.outputText(this.output,this.nextMatch,this.source.length);this.nextMatch=this.source.length}this.output=oldOutput};Wikifier.prototype.outputText=function(place,startPos,endPos){if(place){insertText(place,this.source.substring(startPos,endPos))}};Wikifier.prototype.fullMatch=function(){return this.source.slice(this.matchStart,this.source.indexOf(">>",this.matchStart)+2)};Wikifier.prototype.fullArgs=function(includeName){var source=this.source.replace(/\u200c/g," "),endPos=this.nextMatch-2,startPos=source.indexOf(includeName?"<<":" ",this.matchStart);if(!~startPos||!~endPos||endPos<=startPos){return""
}return Wikifier.parse(source.slice(startPos+(includeName?2:1),endPos).trim())};Wikifier.parse=function(input){var m,re,b=input,found=[],g=Wikifier.textPrimitives.unquoted;function alter(from,to){b=b.replace(new RegExp(from+g,"gim"),to);return alter}re=new RegExp(Wikifier.textPrimitives.variable+g,"gi");while(m=re.exec(input)){if(!~found.indexOf(m[0])){b=m[0]+" == null && ("+m[0]+" = 0);"+b;found.push(m[0])}}alter(Wikifier.textPrimitives.variable,"state.history[0].variables.$1")("\\beq\\b"," == ")("\\bneq\\b"," != ")("\\bgt\\b"," > ")("\\bgte\\b"," >= ")("\\blt\\b"," < ")("\\blte\\b"," <= ")("\\band\\b"," && ")("\\bor\\b"," || ")("\\bnot\\b"," ! ")("\\bis\\b"," == ")("\\bto\\b"," = ");return b};Wikifier.formatHelpers={charFormatHelper:function(a){var b=insertElement(a.output,this.element);a.subWikify(b,this.terminator)},inlineCssHelper:function(w){var s,v,lookaheadMatch,gotMatch,styles=[],lookahead=Wikifier.styleByCharFormatter.lookahead,lookaheadRegExp=new RegExp(lookahead,"mg"),hadStyle=false,unDash=function(str){var s=str.split("-");if(s.length>1){for(var t=1;t<s.length;t++){s[t]=s[t].substr(0,1).toUpperCase()+s[t].substr(1)}}return s.join("")};styles.className="";do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source);gotMatch=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(gotMatch){hadStyle=true;if(lookaheadMatch[5]){styles.className+=lookaheadMatch[5].replace(/\./g," ")+" "}else{if(lookaheadMatch[1]){s=unDash(lookaheadMatch[1]);v=lookaheadMatch[2]}else{s=unDash(lookaheadMatch[3]);v=lookaheadMatch[4]}}switch(s){case"bgcolor":s="backgroundColor";break;case"float":s="cssFloat";break}styles.push({style:s,value:v});w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}while(gotMatch);return styles},monospacedByLineHelper:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){insertElement(w.output,"pre",null,null,lookaheadMatch[1]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}};Wikifier.formatters=[{name:"table",match:"^\\|(?:[^\\n]*)\\|(?:[fhc]?)$",lookahead:"^\\|([^\\n]*)\\|([fhc]?)$",rowTerminator:"\\|(?:[fhc]?)$\\n?",cellPattern:"(?:\\|([^\\n\\|]*)\\|)|(\\|[fhc]?$\\n?)",cellTerminator:"(?:\\x20*)\\|",rowTypes:{"c":"caption","h":"thead","":"tbody","f":"tfoot"},handler:function(w){var rowContainer,rowElement,lookaheadMatch,matched,table=insertElement(w.output,"table"),lookaheadRegExp=new RegExp(this.lookahead,"mg"),currRowType=null,nextRowType,prevColumns=[],rowCount=0;w.nextMatch=w.matchStart;do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source),matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){nextRowType=lookaheadMatch[2];if(nextRowType!=currRowType){rowContainer=insertElement(table,this.rowTypes[nextRowType])}currRowType=nextRowType;if(currRowType=="c"){if(rowCount==0){rowContainer.setAttribute("align","top")}else{rowContainer.setAttribute("align","bottom")}w.nextMatch=w.nextMatch+1;w.subWikify(rowContainer,this.rowTerminator)}else{rowElement=insertElement(rowContainer,"tr");this.rowHandler(w,rowElement,prevColumns)}rowCount++}}while(matched)},rowHandler:function(w,e,prevColumns){var cellMatch,matched,col=0,currColCount=1,cellRegExp=new RegExp(this.cellPattern,"mg");do{cellRegExp.lastIndex=w.nextMatch;cellMatch=cellRegExp.exec(w.source);matched=cellMatch&&cellMatch.index==w.nextMatch;if(matched){if(cellMatch[1]=="~"){var last=prevColumns[col];if(last){last.rowCount++;last.element.setAttribute("rowSpan",last.rowCount);last.element.setAttribute("rowspan",last.rowCount);last.element.valign="center"}w.nextMatch=cellMatch.index+cellMatch[0].length-1}else{if(cellMatch[1]==">"){currColCount++;w.nextMatch=cellMatch.index+cellMatch[0].length-1}else{if(cellMatch[2]){w.nextMatch=cellMatch.index+cellMatch[0].length;break}else{var spaceLeft=false,spaceRight=false,lastColCount,lastColElement,styles,cell,t;w.nextMatch++;styles=Wikifier.formatHelpers.inlineCssHelper(w);while(w.source.substr(w.nextMatch,1)==" "){spaceLeft=true;w.nextMatch++}if(w.source.substr(w.nextMatch,1)=="!"){cell=insertElement(e,"th");w.nextMatch++}else{cell=insertElement(e,"td")}prevColumns[col]={rowCount:1,element:cell};lastColCount=1;lastColElement=cell;if(currColCount>1){cell.setAttribute("colSpan",currColCount);cell.setAttribute("colspan",currColCount);currColCount=1}for(t=0;t<styles.length;t++){cell.style[styles[t].style]=styles[t].value}w.subWikify(cell,this.cellTerminator);if(w.matchText.substr(w.matchText.length-2,1)==" "){spaceRight=true
}if(spaceLeft&&spaceRight){cell.align="center"}else{if(spaceLeft){cell.align="right"}else{if(spaceRight){cell.align="left"}}}w.nextMatch=w.nextMatch-1}}}col++}}while(matched)}},{name:"rule",match:"^----$\\n?",handler:function(w){insertElement(w.output,"hr")}},{name:"emdash",match:"--",becomes:String.fromCharCode(8212),handler:function(a){insertElement(a.output,"span",null,"char",this.becomes).setAttribute("data-char","emdash")}},{name:"heading",match:"^!{1,5}",terminator:"\\n",handler:function(w){var e=insertElement(w.output,"h"+w.matchLength);w.subWikify(e,this.terminator)}},{name:"monospacedByLine",match:"^\\{\\{\\{\\n",lookahead:"^\\{\\{\\{\\n((?:^[^\\n]*\\n)+?)(^\\}\\}\\}$\\n?)",handler:Wikifier.formatHelpers.monospacedByLineHelper},{name:"quoteByBlock",match:"^<<<\\n",terminator:"^<<<\\n",handler:function(w){var e=insertElement(w.output,"blockquote");w.subWikify(e,this.terminator)}},{name:"list",match:"^(?:(?:\\*+)|(?:#+))",lookahead:"^(?:(\\*+)|(#+))",terminator:"\\n",handler:function(w){var newType,newLevel,t,len,bulletType,lookaheadMatch,matched,lookaheadRegExp=new RegExp(this.lookahead,"mg"),placeStack=[w.output],currType=null,currLevel=0;w.nextMatch=w.matchStart;do{lookaheadRegExp.lastIndex=w.nextMatch;lookaheadMatch=lookaheadRegExp.exec(w.source);matched=lookaheadMatch&&lookaheadMatch.index==w.nextMatch;if(matched){newLevel=lookaheadMatch[0].length;if(lookaheadMatch[1]){bulletType=lookaheadMatch[1].slice(-1);newType="ul"}else{if(lookaheadMatch[2]){newType="ol"
}}w.nextMatch+=newLevel;if(newLevel>currLevel){for(t=currLevel;t<newLevel;t++){placeStack.push(insertElement(placeStack[placeStack.length-1],newType))}}else{if(newLevel<currLevel){for(t=currLevel;t>newLevel;t--){placeStack.pop()}}else{if(newLevel==currLevel&&newType!=currType){placeStack.pop();placeStack.push(insertElement(placeStack[placeStack.length-1],newType))}}}currLevel=newLevel;currType=newType;t=insertElement(placeStack[placeStack.length-1],"li");if(bulletType&&bulletType!="*"){t.setAttribute("data-bullet",bulletType)}w.subWikify(t,this.terminator)}}while(matched)}},(Wikifier.urlFormatter={name:"urlLink",match:"(?:https?|mailto|javascript|ftp|data):[^\\s'\"]+(?:/|\\b)",handler:function(w){var e=Wikifier.createExternalLink(w.output,w.matchText);w.outputText(e,w.matchStart,w.nextMatch)}}),(Wikifier.linkFormatter={name:"prettyLink",match:"\\[\\[",lookahead:"\\[\\[([^\\|]*?)(?:\\|(.*?))?\\](?:\\[(.*?)])?\\]",makeInternalOrExternal:function(out,title,callback,type){if(title&&!tale.has(title)&&(title.match(Wikifier.urlFormatter.match,"g")||~title.search(/[\.\\\/#]/))){return Wikifier.createExternalLink(out,title,callback,type)
}else{return Wikifier.createInternalLink(out,title,callback,type)}},makeCallback:function(code,callback){return function(){macros.set.run(null,Wikifier.parse(code),null,code);typeof callback=="function"&&callback.call(this)}},makeLink:function(out,match,callback2,type){var link,title,callback;if(match[3]){callback=this.makeCallback(match[3],callback2)}else{typeof callback2=="function"&&(callback=callback2)}title=Wikifier.parsePassageTitle(match[2]||match[1]);link=this.makeInternalOrExternal(out,title,callback,type);setPageElement(link,null,match[2]?match[1]:title);return link},handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){this.makeLink(w.output,lookaheadMatch);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}}),(Wikifier.imageFormatter={name:"image",match:"\\[(?:[<]{0,1})(?:[>]{0,1})[Ii][Mm][Gg]\\[",lookahead:"\\[([<]?)(>?)img\\[(?:([^\\|\\]]+)\\|)?([^\\[\\]\\|]+)\\](?:\\[([^\\]]*)\\]?)?(\\])",importedImage:function(img,passageName){var imgPassages,imgname;try{imgname=internalEval(Wikifier.parse(passageName))}catch(e){}if(!imgname){imgname=passageName
}imgPassages=tale.lookup("tags","Twine.image");for(j=0;j<imgPassages.length;j++){if(imgPassages[j].title==imgname){img.src=imgPassages[j].text;break}}},handler:function(w){var e,img,j,lookaheadMatch,lookaheadRegExp=new RegExp(this.lookahead,"mig");lookaheadRegExp.lastIndex=w.matchStart;lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){e=w.output,title=Wikifier.parsePassageTitle(lookaheadMatch[5]);if(title){e=Wikifier.linkFormatter.makeInternalOrExternal(w.output,title)}img=insertElement(e,"img");if(lookaheadMatch[1]){img.align="left"}else{if(lookaheadMatch[2]){img.align="right"}}if(lookaheadMatch[3]){img.title=lookaheadMatch[3]}this.importedImage(img,lookaheadMatch[4]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}}),{name:"macro",match:"<<",lookahead:/<<([^>\s]+)(?:\s*)((?:\\.|'(?:[^'\\]*\\.)*[^'\\]*'|"(?:[^"\\]*\\.)*[^"\\]*"|[^'"\\>]|>(?!>))*)>>/mg,handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead);lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source.replace(/\u200c/g,"\n"));if(lookaheadMatch&&lookaheadMatch.index==w.matchStart&&lookaheadMatch[1]){var params=lookaheadMatch[2].readMacroParams();w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length;var name=lookaheadMatch[1];try{var macro=macros[name];if(macro&&typeof macro=="object"&&macro.handler){macro.handler(w.output,name,params,w)}else{if(name[0]=="$"){macros.print.handler(w.output,name,[name].concat(params),w)}else{if(tale.has(name)){macros.display.handler(w.output,name,[name].concat(params),w)}else{throwError(w.output,'No macro or passage called "'+name+'"',w.fullMatch())}}}}catch(e){throwError(w.output,"Error executing macro "+name+": "+e.toString(),w.fullMatch())}}}},{name:"html",match:"<html>",lookahead:"<html>((?:.|\\n)*?)</html>",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=insertElement(w.output,"span");e.innerHTML=lookaheadMatch[1];w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"commentByBlock",match:"/%",lookahead:"/%((?:.|\\n)*?)%/",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},{name:"boldByChar",match:"''",terminator:"''",element:"strong",handler:Wikifier.formatHelpers.charFormatHelper},{name:"strikeByChar",match:"==",terminator:"==",element:"strike",handler:Wikifier.formatHelpers.charFormatHelper},{name:"underlineByChar",match:"__",terminator:"__",element:"u",handler:Wikifier.formatHelpers.charFormatHelper},{name:"italicByChar",match:"//",terminator:"//",element:"em",handler:Wikifier.formatHelpers.charFormatHelper},{name:"subscriptByChar",match:"~~",terminator:"~~",element:"sub",handler:Wikifier.formatHelpers.charFormatHelper},{name:"superscriptByChar",match:"\\^\\^",terminator:"\\^\\^",element:"sup",handler:Wikifier.formatHelpers.charFormatHelper},{name:"monospacedByChar",match:"\\{\\{\\{",lookahead:"\\{\\{\\{((?:.|\\n)*?)\\}\\}\\}",handler:function(w){var lookaheadRegExp=new RegExp(this.lookahead,"mg");lookaheadRegExp.lastIndex=w.matchStart;var lookaheadMatch=lookaheadRegExp.exec(w.source);if(lookaheadMatch&&lookaheadMatch.index==w.matchStart){var e=insertElement(w.output,"code",null,null,lookaheadMatch[1]);w.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}}},(Wikifier.styleByCharFormatter={name:"styleByChar",match:"@@",terminator:"@@",lookahead:"(?:([^\\(@]+)\\(([^\\)\\|\\n]+)(?:\\):))|(?:([^\\.:@]+):([^;\\|\\n]+);)|(?:\\.([^;\\|\\n]+);)",handler:function(w){var e=insertElement(w.output,"span",null,null,null);var styles=Wikifier.formatHelpers.inlineCssHelper(w);if(styles.length==0){e.className="marked"}else{for(var t=0;t<styles.length;t++){e.style[styles[t].style]=styles[t].value}if(typeof styles.className=="string"){e.className=styles.className}}w.subWikify(e,this.terminator)}}),{name:"lineBreak",match:"\\n",handler:function(w){insertElement(w.output,"br")}},{name:"continuedLine",match:"\\\\\\s*?\\n",handler:function(a){a.nextMatch=a.matchStart+2}},{name:"htmlCharacterReference",match:"(?:(?:&#?[a-zA-Z0-9]{2,8};|.)(?:&#?(?:x0*(?:3[0-6][0-9a-fA-F]|1D[c-fC-F][0-9a-fA-F]|20[d-fD-F][0-9a-fA-F]|FE2[0-9a-fA-F])|0*(?:76[89]|7[7-9][0-9]|8[0-7][0-9]|761[6-9]|76[2-7][0-9]|84[0-3][0-9]|844[0-7]|6505[6-9]|6506[0-9]|6507[0-1]));)+|&#?[a-zA-Z0-9]{2,8};)",handler:function(w){var el=document.createElement("div");el.innerHTML=w.matchText;insertText(w.output,el.textContent)}},{name:"htmltag",match:"<(?:\\/?[\\w\\-]+|[\\w\\-]+(?:(?:\\s+[\\w\\-]+(?:\\s*=\\s*(?:\\\".*?\\\"|'.*?'|[^'\\\">\\s]+))?)+\\s*|\\s*)\\/?)>",tagname:"<(\\w+)",voids:["area","base","br","col","embed","hr","img","input","link","meta","param","source","track","wbr"],tableElems:["table","thead","tbody","tfoot","th","tr","td","colgroup","col","caption","figcaption"],cleanupTables:function(e){var i,name,elems=[].slice.call(e.children);for(i=0;i<elems.length;i++){if(elems[i].tagName){name=elems[i].tagName.toLowerCase();if(this.tableElems.indexOf(name)==-1){elems[i].outerHTML=""}else{if(["col","caption","figcaption","td","th"].indexOf(name)==-1){this.cleanupTables.call(this,elems[i])}}}}},handler:function(a){var tmp,passage,setter,e,isvoid,isstyle,lookaheadRegExp,lookaheadMatch,lookahead,re=new RegExp(this.tagname).exec(a.matchText),tn=re&&re[1]&&re[1].toLowerCase();if(tn&&tn!="html"){lookahead="<\\/\\s*"+tn+"\\s*>";isvoid=(this.voids.indexOf(tn)!=-1);isstyle=tn=="style"||tn=="script";lookaheadRegExp=new RegExp(lookahead,"mg");lookaheadRegExp.lastIndex=a.matchStart;lookaheadMatch=lookaheadRegExp.exec(a.source);if(lookaheadMatch||isvoid){if(isstyle){e=document.createElement(tn);e.type="text/css";tmp=a.source.slice(a.nextMatch,lookaheadMatch.index);e.styleSheet?(e.styleSheet.cssText=tmp):(e.innerHTML=tmp);a.nextMatch=lookaheadMatch.index+lookaheadMatch[0].length}else{e=document.createElement(a.output.tagName);e.innerHTML=a.matchText;while(e.firstChild){e=e.firstChild}if(!isvoid){a.subWikify(e,lookahead)}}if(e.tagName.toLowerCase()=="table"){this.cleanupTables.call(this,e)}if(setter=e.getAttribute("data-setter")){setter=Wikifier.linkFormatter.makeCallback(setter)}if(passage=e.getAttribute("data-passage")){if(tn!="img"){addClickHandler(e,Wikifier.linkFunction(Wikifier.parsePassageTitle(passage),e,setter));if(tn=="area"||tn=="a"){e.setAttribute("href","javascript:;")}}else{Wikifier.imageFormatter.importedImage(e,passage)}}a.output.appendChild(e)}else{throwError(a.output,"HTML tag '"+tn+"' wasn't closed.",a.matchText)}}}}];Wikifier.charSpanFormatter={name:"char",match:"[^\n]",handler:function(a){insertElement(a.output,"span",null,"char",a.matchText).setAttribute("data-char",a.matchText==" "?"space":a.matchText=="\t"?"tab":a.matchText)}};Wikifier.parsePassageTitle=function(title){if(title&&!tale.has(title)){try{title=(internalEval(this.parse(title))||title)+""}catch(e){}}return title};Wikifier.linkFunction=function(title,el,callback){return function(){if(state.rewindTo){var passage=findPassageParent(el);if(passage&&passage.parentNode.lastChild!=passage){state.rewindTo(passage,true)}}state.display(title,el,null,callback)}};Wikifier.createInternalLink=function(place,title,callback,type){var tag=(type=="button"?"button":"a"),suffix=(type=="button"?"Button":"Link"),el=insertElement(place,tag);if(tale.has(title)){el.className="internal"+suffix;if(visited(title)){el.className+=" visited"+suffix}}else{el.className="broken"+suffix}addClickHandler(el,Wikifier.linkFunction(title,el,callback));if(place){place.appendChild(el)}return el};Wikifier.createExternalLink=function(place,url,callback,type){var tag=(type=="button"?"button":"a"),el=insertElement(place,tag);el.href=url;el.className="external"+(type=="button"?"Button":"Link");el.target="_blank";if(typeof callback=="function"){addClickHandler(el,callback)}if(place){place.appendChild(el)}return el};function visited(e){var ret=0,i=0;if(!state){return 0
}e=e||state.history[0].passage.title;if(arguments.length>1){for(ret=state.history.length;i<arguments.length;i++){ret=Math.min(ret,visited(arguments[i]))}}else{for(;i<state.history.length&&state.history[i].passage;i++){if(e==state.history[i].passage.title){ret++
}}}return ret}function visitedTag(){var i,j,sh,ret=0,tags=Array.prototype.slice.call(arguments);if(tags.length==1&&typeof tags[0]=="string"){tags=tags.split(" ")}if(!state){return 0
}sh=state.history;for(i=0;i<sh.length&&sh[i].passage;i++){for(j=0;j<tags.length||void ret++;j++){if(sh[i].passage.tags.indexOf(tags[j])==-1){break
}}}return ret}var visitedTags=visitedTag;function turns(){return state.history.length-1}function passage(){return state.history[0].passage.title}function tags(e){var ret=[],i=0;if(!state){return 0
}e=e||state.history[0].passage.title;if(arguments.length>1){for(i=arguments.length-1;i>=1;i--){ret=ret.concat(tags(arguments[i]))}}ret=ret.concat(tale.get(e).tags);return ret}function previous(){if(state&&state.history[1]){for(var d=1;d<state.history.length&&state.history[d].passage;d++){if(state.history[d].passage.title!=state.history[0].passage.title){return state.history[d].passage.title}}}return""}function random(a,b){var from,to;if(!b){from=0;to=a}else{from=Math.min(a,b);to=Math.max(a,b)}to+=1;return ~~((Math.random()*(to-from)))+from}function either(){if(Array.isArray(arguments[0])&&arguments.length==1){return either.apply(this,arguments[0])}return arguments[~~(Math.random()*arguments.length)]}function parameter(n){n=n||0;if(macros.display.parameters[n]){return macros.display.parameters[n]}return 0}function bookmark(){return state.hash||"#"}function internalEval(s){return eval("0,"+s)}function scriptEval(s){try{eval(s.text)}catch(e){alert("There is a technical problem with this "+tale.identity()+" ("+s.title+": "+e.message+")."+softErrorMessage)}}window.onbeforeunload=function(){if(tale&&tale.storysettings.lookup("exitprompt",false)&&state&&state.history.length>1){return"You are about to end this "+tale.identity()+"."}};var oldOnError=window.onerror||null,softErrorMessage="You may be able to continue playing, but some parts may not work properly.";window.onerror=function(msg,a,b,c,error){var s=(error&&(".\n\n"+error.stack.replace(/\([^\)]+\)/g,"")+"\n\n"))||(" ("+msg+").\n");alert("Sorry to interrupt, but this "+((tale&&tale.identity&&tale.identity())||"page")+"'s code has got itself in a mess"+s+softErrorMessage.slice(1));window.onerror=oldOnError;if(typeof window.onerror=="function"){window.onerror(msg,a,b,c,error)}};var $;function main(){$=window.$||function(a){return(typeof a=="string"?document.getElementById(a):a)
};var imgs,scripts,macro,style,i,styleText="",passages=document.getElementById("passages");function sanityCheck(thing){var i,j,s="NOTE: The "+thing,checks={prerender:prerender,postrender:postrender,macros:macros};for(i in checks){if(Object.prototype.hasOwnProperty.call(checks,i)&&!sanityCheck[i]){if(!checks[i]||typeof checks[i]!="object"){alert(s+" seems to have corrupted the "+i+" object."+softErrorMessage);sanityCheck[i]=true;continue}if(i!="macros"){for(j in checks[i]){if(Object.prototype.hasOwnProperty.call(checks[i],j)&&typeof checks[i][j]!="function"){alert(s+" added a property '"+j+"' to "+i+", "+"which is a "+typeof checks[i][j]+", not a function."+softErrorMessage);sanityCheck[i]=true;break}}}}}if(!sanityCheck.display){if(History.prototype.display.length<4&&!~History.prototype.display.toString().indexOf("arguments")){alert(s+" contains a function that patches History.prototype.display, but takes the wrong number of arguments."+softErrorMessage)}sanityCheck.display=true}}if(!window.JSON||!document.querySelector){return(passages.innerHTML="This "+tale.identity()+" requires a newer web browser. Sorry.")}else{passages.innerHTML=""}tale=window.tale=new Tale();if(~document.documentElement.className.indexOf("lt-ie9")){imgs=tale.lookup("tags","Twine.image");for(i=0;i<imgs.length;i++){if(imgs[i].text.length>=32768){alert("NOTE: This "+tale.identity()+"'s HTML file contains embedded images that may be too large for this browser to display."+softErrorMessage);break}}}scripts=tale.lookup("tags","script");for(i=0;i<scripts.length;i++){scriptEval(scripts[i]);sanityCheck('script passage "'+scripts[i].title+'"')}state=window.state=new History();for(i in macros){macro=macros[i];if(typeof macro.init=="function"){macro.init();sanityCheck('init() of the custom macro "'+i+'"')}}style=document.getElementById("storyCSS");for(i in tale.passages){i=tale.passages[i];if(i.tags.indexOf("stylesheet")==-1){continue
}if(i.tags+""=="stylesheet"){styleText+=i.text}else{if(i.tags.length==2&&i.tags.indexOf("transition")>-1){setTransitionCSS(i.text)}}}styleText=alterCSS(styleText);style.styleSheet?(style.styleSheet.cssText=styleText):(style.innerHTML=styleText);state.init()}setTimeout(function f(){var size,bar=document.getElementById("loadingbar"),store=document.getElementById("storeArea");if(!bar){return
}if(store){size=store.getAttribute("data-size");if(store.children.length<=size&&!tale){bar.style.width=~~((store.children.length+1)/size*100)+"%"}else{bar.outerHTML="";return}}setTimeout(f,5)},5);

var hasPushState=!!window.history&&(typeof window.history.pushState=="function")&&(function(a){try{a.setItem("test","1");a.removeItem("test");return true}catch(e){return false
}}(window.sessionStorage));Tale.prototype.canBookmark=function(){return this.canUndo()&&!this.storysettings.lookup("hash")&&(this.storysettings.lookup("bookmark",true)||!hasPushState)};History.prototype.init=function(){var a=this;if(!this.restore()){if(tale.has("StoryInit")){new Wikifier(insertElement(null,"span"),tale.get("StoryInit").text)}this.display("Start",null)}if(!hasPushState){this.hash=window.location.hash;this.interval=window.setInterval(function(){a.watchHash()},250)}};hasPushState&&(History.prototype.pushState=function(replace,uri){window.history[replace?"replaceState":"pushState"]({id:this.id,length:this.history.length},document.title,uri)});History.prototype.display=function(title,source,type,callback){var i,e,q,bookmark,hash,c=tale.get(title),p=document.getElementById("passages");if(c==null){return
}if(type!="back"){this.saveVariables(c,source,callback);hash=(tale.storysettings.lookup("hash")&&this.save())||"";if(hasPushState&&tale.canUndo()){try{sessionStorage.setItem("Twine.History"+this.id,JSON.stringify(decompile(this.history)));this.pushState(this.history.length<=2&&window.history.state=="",hash)}catch(e){alert("Your browser couldn't save the state of the "+tale.identity()+".\n"+"You may continue playing, but it will no longer be possible to undo moves from here on in.");tale.storysettings.undo="off"}}}this.hash=hash||this.save();e=c.render();if(type!="quietly"){if(hasTransition){for(i=0;i<p.childNodes.length;i+=1){q=p.childNodes[i];q.classList.add("transition-out");setTimeout((function(a){return function(){if(a.parentNode){a.parentNode.removeChild(a)}}}(q)),1000)}e.classList.add("transition-in");setTimeout(function(){e.classList.remove("transition-in")},1);e.style.visibility="visible";p.appendChild(e)}else{removeChildren(p);p.appendChild(e);fade(e,{fade:"in"
})}}else{p.appendChild(e);e.style.visibility="visible"}tale.setPageElements();if(tale.canUndo()){if(!hasPushState&&type!="back"){window.location.hash=this.hash}else{if(tale.canBookmark()){bookmark=document.getElementById("bookmark");bookmark&&(bookmark.href=this.hash)}}}window.scroll(0,0);return e};History.prototype.watchHash=function(){if(window.location.hash!=this.hash){if(window.location.hash&&(window.location.hash!="#")){this.history=[{passage:null,variables:{}}];removeChildren(document.getElementById("passages"));if(!this.restore()){alert("The passage you had previously visited could not be found.")}}else{window.location.reload()}this.hash=window.location.hash}};History.prototype.loadLinkVars=function(){for(var c in this.history[0].linkVars){this.history[0].variables[c]=clone(this.history[0].linkVars[c])}};Passage.prototype.render=function(){var b=insertElement(null,"div","passage"+this.title,"passage");b.style.visibility="hidden";this.setTags(b);this.setCSS();insertElement(b,"div","","header");var a=insertElement(b,"div","","body content");for(var i in prerender){(typeof prerender[i]=="function")&&prerender[i].call(this,a)}new Wikifier(a,this.processText());insertElement(b,"div","","footer");for(i in postrender){(typeof postrender[i]=="function")&&postrender[i].call(this,a)}return b};Passage.prototype.excerpt=function(){var b=this.text.replace(/<<.*?>>/g,"");b=b.replace(/!.*?\n/g,"");b=b.replace(/[\[\]\/]/g,"");var a=b.split("\n");while(a.length&&a[0].length==0){a.shift()}var c="";if(a.length==0||a[0].length==0){c=this.title}else{c=a[0].substr(0,30)+"..."}return c};Passage.transitionCache="";Passage.prototype.setCSS=function(){var trans=false,text="",tags=this.tags||[],c=document.getElementById("tagCSS"),c2=document.getElementById("transitionCSS");if(c&&c.getAttribute("data-tags")!=tags.join(" ")){tale.forEachStylesheet(tags,function(passage){if(~passage.tags.indexOf("transition")){if(!Passage.transitionCache&&c2){Passage.transitionCache=c2.innerHTML}setTransitionCSS(passage.text);trans=true}else{text+=alterCSS(passage.text)}});if(!trans&&Passage.transitionCache&&c2){setTransitionCSS(Passage.transitionCache);trans=false;Passage.transitionCache=""}c.styleSheet?(c.styleSheet.cssText=text):(c.innerHTML=text);c.setAttribute("data-tags",tags.join(" "))}};var Interface={init:function(){var snapback=document.getElementById("snapback"),restart=document.getElementById("restart"),bookmark=document.getElementById("bookmark");main();if(!tale){return
}if(snapback){if(!tale.lookup("tags","bookmark").length){snapback.parentNode.removeChild(snapback)}else{addClickHandler(snapback,Interface.showSnapback)}}if(bookmark&&(!tale.canBookmark()||!hasPushState)){bookmark.parentNode.removeChild(bookmark)}restart&&addClickHandler(restart,Interface.restart)},restart:function(){if(confirm("Are you sure you want to restart this "+tale.identity()+"?")){state.restart()}},showSnapback:function(a){Interface.hideAllMenus();Interface.buildSnapback();Interface.showMenu(a,document.getElementById("snapbackMenu"))},buildSnapback:function(){var b,c=false,menuelem=document.getElementById("snapbackMenu");while(menuelem.hasChildNodes()){menuelem.removeChild(menuelem.firstChild)}for(var a=state.history.length-1;a>=0;a--){if(state.history[a].passage&&state.history[a].passage.tags.indexOf("bookmark")!=-1){b=document.createElement("div");b.pos=a;addClickHandler(b,function(){return macros.back.onclick(true,this.pos)});b.innerHTML=state.history[a].passage.excerpt();menuelem.appendChild(b);c=true}}b=null;if(!c){b=document.createElement("div");b.innerHTML="<i>No passages available</i>";document.getElementById("snapbackMenu").appendChild(b)}},hideAllMenus:function(){document.getElementById("snapbackMenu").style.display="none"},showMenu:function(b,a){if(!b){b=window.event}var c={x:0,y:0};if(b.pageX||b.pageY){c.x=b.pageX;c.y=b.pageY}else{if(b.clientX||b.clientY){c.x=b.clientX+document.body.scrollLeft+document.documentElement.scrollLeft;c.y=b.clientY+document.body.scrollTop+document.documentElement.scrollTop}}a.style.top=c.y+"px";a.style.left=c.x+"px";a.style.display="block";addClickHandler(document,Interface.hideAllMenus);b.cancelBubble=true;if(b.stopPropagation){b.stopPropagation()}}};window.onload=Interface.init;macros.back.onclick=function(back,steps){var title;if(back){if(tale.canUndo()){window.history.go(-steps);return}while(steps-->=0&&state.history.length>1){title=state.history[0].passage.title;state.history.shift()}state.loadLinkVars();state.saveVariables(tale.get(title));state.display(title,null,"back")}else{state.display(state.history[steps].passage.title)}};window.onpopstate=function(e){var title,hist,steps,i,s=e&&e.state;if(s&&s.id&&s.length!=null){hist=recompile(JSON.parse(sessionStorage.getItem("Twine.History"+s.id)));if(hist){steps=hist.length-s.length}}if(steps!=null){state.history=hist;while(steps-->=0&&state.history.length>1){title=state.history[0].passage.title;state.history.shift()}state.loadLinkVars();state.saveVariables(tale.get(title));state.display(title,null,"back")}};

testplay = "";

}());
</script>
<script title="modules">


</script>
<style id="baseCSS">
/* Sidebar */
#sidebar {
	position: fixed;
	list-style: none;
	width: 12em;
}
#sidebar #title, #sidebar #credits  {
	cursor: auto;
}
#sidebar #storySubtitle, #sidebar #storyMenu {
	display: block;
}
.menu {
	position: absolute;
	display: none;
	z-index: 5;
}
/* Passages container */
#passages {
	margin-left: 18.2em;
	position:relative;
}
/* Links */
.passage a {
	color: #4d6ad8;
}
a.internalLink, a.externalLink, a.back, a.return, [data-passage], .menu div {
	cursor: pointer;
}
a.brokenLink {
	background-color: red;
	color: #000;
}
.marked {
	background-color: #f66;
	color: #000;
}
.marked[title] {
	cursor: help;
}
.passage li[data-bullet] {
	list-style-type: none;
}
.passage li[data-bullet]:before {
	content: attr(data-bullet);
	position: relative;
	left: -1em;
}
#storeArea {
	display: none;
}
#noscript {
	margin-left: 18.2em;
	font-size: 1.2em;
	font-weight: bold;
}
/* HTML4 compatibility */
img {
	vertical-align:bottom;
}
@media screen and (max-width: 640px) {
	#sidebar {
		position: static;
		margin: 0 auto;
		padding: 0;
	}
	body #sidebar li  {
		text-align: center;
	}
	#passages {
		min-height: 100vh;
		margin-left: 0em;
	}
}
#loadingbar {
	position:fixed;
	top:0;
	left:0;
	border-top: solid #4d6ad8 6px;
	transition: width 0.5s;
}
</style>
<style id="defaultCSS">
body {
	background-color: #000;
	color: #fff;
	font-family: Verdana,sans-serif;
	font-size: 62.5%;
	margin: 4em 15% 5% 5em;
}
#sidebar {
	left: 7.5em;
	margin: 0;
	padding: 0 1em 0 0;
	font: bold 1.1em Verdana,sans-serif;
}
#sidebar ul {
	padding: 0;
}
#sidebar li {
	color: #333;
	text-align: right;
	background-repeat: no-repeat;
	margin-bottom: 1em;
	line-height: 1.4em;
	list-style: none;
}
#sidebar li a {
	color: #333;
	text-decoration: none;
}
#sidebar li a:hover, #sidebar #title a:hover, #snapback:hover, #restart:hover {
	color: #fff;
	cursor: pointer;
	text-decoration: none;
}
#sidebar #title {
	font-size: 150%;
}
#sidebar #title, #sidebar #title:hover, #sidebar #title a {
	color: #999;
}
#sidebar #storySubtitle {
	font-size: 75%;
}
#storyAuthor {
	font-size: 50%;
}
#sidebar #storyMenu {
	line-height: 2.5em;
	margin-bottom: .5em;
	color: #999;
	cursor: auto;
}
#sidebar #credits {
	padding-top: 2em;
	font-weight: normal;
	font-size: 80%;
}
#sidebar #credits:hover {
	color: #333;
}
#sidebar #credits a {
	text-decoration: none;
}
#passages {
	border-left: 1px solid #333;
	padding-left: 1.5em;
}
.menu {
	background-color: #343434;
	color: #fff;
	opacity: .9;
	border: 1px solid #fff;
	text-align: left;
	font: 1.1em Verdana;
	line-height: 2em;
}
.menu div {
	padding: 0 .4em;
}
.menu div:hover {
	cursor: pointer;
	background-color: #fff;
	color: #343434;
}
.passage {
	font-size: 1.2em;
	line-height: 175%;
	margin-bottom: 2em;
	text-align: left;
}
.passage a {
	font-weight: bold;
	text-decoration: none;
}
.passage a:hover {
	color: #8ea6ff;
	text-decoration: underline;
}
.content > ul {
	padding-top: 1.3em;
}
.passage ul, .passage ol {
	margin-left: .5em;
	padding-left: 1.5em;
}
.passage li {
	margin-right: 6em;
}
.passage table {
	border-collapse: collapse;
	font-size: 100%;
	margin: .8em 1.0em;
}
.passage th,.passage td,.passage tr,.passage caption {
	padding: 3px;
}
.passage hr {
	height: 1px;
}
.passage center {
	max-width:50%;
	margin:auto;
}
.marked {
	margin-right: 12px;
	padding: 3px;
}
.disabled {
	font-weight: bold;
	color: #333;
}
@media screen and (max-width: 640px) {
	body {
		margin: 5%;
	}
	#sidebar {
		width:100%;
		margin: 0;
		border-bottom: 1px solid #333;
	}
	#passages {
		padding-top: 2em;
		border-left: 0;
	}
}
</style>
<style id="transitionCSS">
.transition-in {
	opacity:0;
	position:absolute;
}
.passage:not(.transition-out) {
	transition: 1s;
	-webkit-transition: 1s;
}
.transition-out {
	opacity:0 !important;
	position:absolute;
}
</style>
<style id="storyCSS"></style>
<style id="tagCSS"></style>
</head>
<body>
<div id="loadingbar"></div>
<ul id="sidebar">
<li id="title" class="storyElement"><span id="storyTitle" class="storyElement"></span><span id="storySubtitle" class="storyElement"></span><span id="titleSeparator"></span><span id="storyAuthor" class="storyElement"></span></li>
<li id="storyMenu" class="storyElement" style="display:none"></li>
<li><a href="javascript:;" id="snapback">Rewind</a></li>
<li><a href="javascript:;" id="restart">Restart</a></li>
<li><a id="bookmark" title="Permanent link to this passage">Bookmark</a></li>
<li id="credits">
This story was created with <a href="http://twinery.org/">Twine</a> and is powered by <a href="http://tiddlywiki.com/">TiddlyWiki</a>
</li>
</ul>
<div id="snapbackMenu" class="menu"></div>
<div id="passages">
<noscript><div id="noscript">Please enable Javascript to play this story!</div></noscript>
<style>
#sidebar{display:none;}
</style>
</div>
<div id="storeArea" data-size="81" hidden><div tiddler="NoMap" tags="" created="201701291746" modifier="twee" twine-position="701,1340">As you triumphantly drive down river, you encounter no obstacles in your path, and simply speed forward.\n\nA dilemma arises however, when you encounter a fork in the river, and hear a waterfall up ahead.\n\n[[Steer left|Speed]]\n[[Steer right|Stranded2]]</div><div tiddler="Run away" tags="" created="201701291056" modifier="twee" twine-position="1698,794">You try to flee with all of the energy you have. You figured you would come back for your equipment once the snake was gone, and bolt out of the cave. You get up and before you are able to regain your balance from getting up too quickly, you feel a piercing in your right leg and fall to the ground. \n\n[[Try to escape still|Keep running away]]\n[[Give up|Give up]]</div><div tiddler="Repair Boat" tags="" created="201701291548" modifier="twee" twine-position="599,884">What do you repair?\n\n&lt;&lt;if $inv.indexOf(&quot;the gas-cap&quot;) gte 0&gt;&gt;[[Attach gascap]]&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $inv.indexOf(&quot;batteries&quot;) gte 0&gt;&gt;[[Insert batteries]]&lt;&lt;endif&gt;&gt;\n</div><div tiddler="Staying left pt2" tags="" created="201701291047" modifier="twee" twine-position="1556,632">You feel your head spinning and you slowly blink. The eye crusts pinch the corners of your eyes as you regain your sight. You feel fully rested and bring your body up when you see a snake hissing right in front of you.\nYou cannot tell if the snake is harmful or not, but you assume that it is.\n\n[[Quickly get up and run away|Run away]]\n[[Freeze|Freeze]]\n&lt;&lt;if $inv.indexOf(&quot;a small knife&quot;) gte 0&gt;&gt;[[Attack!]]\n&lt;&lt;endif&gt;&gt;\s</div><div tiddler="Skelly" tags="" created="201701291633" modifier="twee" twine-position="1131,1573">The skeleton is pristine despite it's enviroment, perfectly clean of any filth or dirt. It is wearing what would be described as a fisherman's outfit, and seems to stare into your soul.\n\nYou think to yourself, //I think I'll name you Skelly//.\n\n[[Return|Shack]]</div><div tiddler="Jungle B" tags="" created="201701301735" modifier="twee" twine-position="3,1708">On your way back to the start of the Jungle, you hear feral growls. A pack of wild dogs has surrounded you!\n\nThey do not look particularly friendly, but don't appear healthy either.\n\n&lt;&lt;if ($inv.indexOf(&quot;a loaded flare gun&quot;) gte 0) and ($dud is false)&gt;&gt;[[Attack with flare gun|Dud]]\n&lt;&lt;endif&gt;&gt;\s\n\n&lt;&lt;if ($inv.indexOf(&quot;a small knife&quot;) gte 0) and ($dud is false)&gt;&gt;[[Attack with knife|Target]]\n&lt;&lt;endif&gt;&gt;\s\n[[Run away|Dog chase]]</div><div tiddler="Right spot" tags="place" created="201701290955" modifier="twee" twine-position="1629,338">Moving slightly over to the right, you scrape the dirt once more but further to make more room. You feel a slight mound in the dirt. \n//I can use that as a pillow.//\n\nOnce you assume that your bed is fine, you bend down and remove your jacket.\n\n[[On second thought, maybe you should go back to where you were|Enough room]]\n[[Maybe you should shift to the left|Left spot]]\n[[Stay where you are and sleep|Staying right]]</div><div tiddler="Dog chase" tags="" created="201701301741" modifier="twee" twine-position="22,1908">You decide to bolt, and the wild dogs follow, nipping at your heels. You are unable to lose them in the jungle, but continue to run.\n&lt;&lt;set $dogChase = true&gt;&gt;\s\n\n[[Run to cave]]\n[[Run to river]]</div><div tiddler="Faint" tags="" created="201701291031" modifier="twee" twine-position="2021,407">Slowly, your eyes awaken. You sit up, wondering what happened. Rubbing your head, you look around. You see your equipment still intact. You start to feel cold and look around for your jacket.\n//There it is.//\nYou stretch your arms to reach for it until you suddenly recall the terrifying event and flinch. \n//Just suck it up// You hear your conscious bickering at you and you gulp. Sighing, you snatch the jacket back and wave it in the air like you are doing laundry to make sure there are no bugs left over. You inspect your outerwear again and put it on.\n\n[[Return to the cave|Main Cave]]</div><div tiddler="Dud" tags="" created="201701301739" modifier="twee" twine-position="184,1628">You fire your flare-gun towards the dogs, hoping to scare them off. As the flare flies at the beasts, it fails to ignite and only manages to knock out a single unlucky dog.\n\nYou make a mental note to pick up your failed flare once you deal with the dogs.&lt;&lt;set $dud = true&gt;&gt;\n\n[[Attack with knife|Target]]\n[[Run away|Dog chase]]</div><div tiddler="displayinv" tags="" created="201701272007" modifier="twee" twine-position="147,10">&lt;&lt;set $invlen = $inv.length-1&gt;&gt;\s\n&lt;&lt;if $i lt $invlen&gt;&gt;\s\n &lt;&lt;print $inv[$i]&gt;&gt;,\s\n&lt;&lt;set $i = $i + 1&gt;&gt;\s\n&lt;&lt;displayinv&gt;&gt;\s\n&lt;&lt;else $i is $invlen&gt;&gt;\s\n and &lt;&lt;print $inv[$i]&gt;&gt;\s\n&lt;&lt;set $i = 0&gt;&gt;&lt;&lt;endif&gt;&gt;\s\n</div><div tiddler="Enough room" tags="" created="201701290953" modifier="twee" twine-position="1825,145">//I can work with this.//\nSevere scraping echoes as you make your &quot;bed&quot; smooth as possible for comfort reasons. You make sure there are no sharp rocks left and that you swiveled them away. Once you make sure your bed is fine, you take off your beaten jacket and crumple it up to make it a pillow. It is obviously not on par with your actual pillow at home, but it will do.\n\n[[Rest for 1 hour|1 hour]]\n[[Rest for 30 minutes|30 minutes]]\n</div><div tiddler="Eat fish paste" tags="" created="201701291633" modifier="twee" twine-position="1638,1522">You decide to eat the fish paste, despite the smell.\nAs you start to shove handfuls of the sludge into your mouth, you are overcome by the saltiness of the substance, and empty your stomach of the paste.\n\n[[Yuck|Shack]]</div><div tiddler="Start" tags="place" created="201701271943" modifier="twee" twine-position="5,258">&lt;&lt;StartInit&gt;&gt;\s\n\s\nYou awake in a dark room. There is a ray of light peering through a crack in the ceiling illuminating the stone floor; however, beyond the lit patch of uneven rocky surface, you cannot tell where you are. \n\nChecking your pockets, you find that you carry &lt;&lt;displayinv&gt;&gt;. You are in shock and hastily look around. While it's too dark to see, you can at the very least see your hands.\n&quot;What...?&quot; you squeeze your eyebrows in confusion and a bit of fear.\n\n[[Use lighter as torch|LitStart][$cavelight = true]]\n[[Take a nap|Start]]</div><div tiddler="StartInit" tags="" created="201701271954" modifier="twee" twine-position="9,11">&lt;&lt;set $inv = [&quot;a lighter&quot;, &quot;a quarter&quot;, &quot;a piece of string&quot;, &quot;a grey key&quot;]&gt;&gt;\s\n&lt;&lt;set $cavelight is false&gt;&gt;\s\n&lt;&lt;set $crack is false&gt;&gt;\s\n&lt;&lt;set $slide is true&gt;&gt;\s\n&lt;&lt;set $discoverRiver is false&gt;&gt;\s\n&lt;&lt;set $boatFixed is false&gt;&gt;\s\n&lt;&lt;set $gpsFixed is false&gt;&gt;\s\n&lt;&lt;set $havePaste is false&gt;&gt;\s\n&lt;&lt;set $damnJam is false&gt;&gt;\s\n&lt;&lt;set $shackCrowbar = true&gt;&gt;\s\n&lt;&lt;set $shackKnife = true&gt;&gt;\s\n&lt;&lt;set $dud = false&gt;&gt;\s\n&lt;&lt;set $dogHealth = 2&gt;&gt;\n&lt;&lt;set $dogChase = false&gt;&gt;</div><div tiddler="Attach gascap" tags="" created="201701291905" modifier="twee" twine-position="664,1011">You screw the gas-cap onto the main fuel tank of the boat.\nNow you should have nothing to worry about when you're on the water.\n\n&lt;&lt;set $inv.splice($inv.indexOf(&quot;the gas-cap&quot;),1)&gt;&gt;\s\n&lt;&lt;set $boatState = true&gt;&gt;\s\n&lt;&lt;if $dogChase is false&gt;&gt;[[Return|River]]\s\n&lt;&lt;else&gt;&gt;[[Return|Run to river]]&lt;&lt;endif&gt;&gt;</div><div tiddler="Mouth of Cave" tags="place" created="201701272157" modifier="twee" twine-position="567,697">You are in an open grassy spot, next to a mountain. The mouth of the mountain's cave is only a few yards away. Surrounding this open spot is a dense jungle, too thick to enter from any angle except through a path directly opposite the cave, to the south. To the north east you can hear the sounds of a river.\n\n[[Enter jungle|Jungle A]]\n[[Walk towards river|River]]\n[[Enter cave|Main Cave]]</div><div tiddler="Take some fish paste" tags="" created="201701291626" modifier="twee" twine-position="1632,1261">&lt;&lt;set $inv.push(&quot;a jar of fish paste&quot;)&gt;&gt;\s\n&lt;&lt;set $havePaste = true&gt;&gt;\s\nYou take a jar of fish paste, hoping that this random item is somehow useful in the future.\n\n[[Return|Cabinet]]</div><div tiddler="Freeze" tags="" created="201701291056" modifier="twee" twine-position="1523,755">You think of this situation as if you are avoiding being stung by a bee. You hold your breath in and freeze. You are terrified and want to run, but you know that is not the best idea. You wait until it leaves, but it has no sign of going away for a while.\n\n[[Keep staying still|Freeze pt2]]\n[[Run away|Run away]]\n&lt;&lt;if $inv.indexOf(&quot;a small knife&quot;) gte 0&gt;&gt;[[Attack!]]\n&lt;&lt;endif&gt;&gt;\s</div><div tiddler="Eat fish jam?" tags="" created="201701291633" modifier="twee" twine-position="1619,1393">You decide to eat the fish jam, and pop open the lid.\nThe air is filled with the stench of death, and you are nearly bowled over by it's strength. This is clearly an abominable substance.\n\nSurely no one would actually eat this stuff, right?\n\n[[Eat fish jam|deathJam]]\n[[Never touch jar again|Shack][$damnJam = true]]</div><div tiddler="Target" tags="" created="201701301741" modifier="twee" twine-position="182,1757">There are four dogs, one of which who is much more massive than the others, clearly the alpha. The other three are barking constantly, making lunges towards you but rarely actually traveling more than a yard from the leader.\n\n&lt;&lt;if $dud is false&gt;&gt;[[Attack with flare gun|Dud]]\n&lt;&lt;endif&gt;&gt;\s\n[[Attack Alpha Dog]]\n[[Attack Dog A|Attack Dogs]]\n[[Attack Dog B|Attack Dogs]]\n[[Attack Dog C|Attack Dogs]]\n[[Run away|Dog chase]]</div><div tiddler="Attack with fish paste" tags="" created="201701301827" modifier="twee" twine-position="516,1986">You fling the glass jar of fish paste at the big cat, and immediately shut your eyes when it appears to be shocked rather than distracted or concussed. \n\nWhen you are not killed by the jaguar, you gingerly open your eyes to find the large feline licking the itself and anything in it's vicinity that was covered in fish paste. \n\nIt seemingly allows you to pass unharmed.\n\n[[Leave|Jungle A]]</div><div tiddler="gpsState" tags="" created="201701291443" modifier="twee" twine-position="1294,975">&lt;&lt;if $gpsState is false&gt;&gt;missing batteries. In this state, you'll be driving blind, if you do drive it\s\n&lt;&lt;else&gt;&gt;\s\nfully powered and with a destination already set\s\n&lt;&lt;endif&gt;&gt;\s\n</div><div tiddler="CrateFail" tags="" created="201701272155" modifier="twee" twine-position="566,132">You try to open the crates with your non-tool items, but end up at most embarassing yourself. Who'd a thunk it?\n\n[[Return|Main Cave]]</div><div tiddler="Give up" tags="ending" created="201701291111" modifier="twee" twine-position="1868,798">Believing that there is no use in trying anymore, you give up and just lay there. Your vision blurs, and you breathe heavily. You see the faint color of the snake getting smaller and smaller until your vision fades to black.\n\n[[Restart?|Start]]</div><div tiddler="boatState" tags="" created="201701291442" modifier="twee" twine-position="1315,1115">&lt;&lt;if $boatFixed is false&gt;&gt;Currently, the tanks are full; however, the main gas-cap is missing, which means that driving the boat is probably a bad idea\s\n&lt;&lt;else&gt;&gt;It's perfectly safe to drive now&lt;&lt;endif&gt;&gt;</div><div tiddler="Run to cave" tags="ending" created="201701301757" modifier="twee" twine-position="137,2048">You shoot towards the cave in fear, hoping to hide among the shadows and rocks from the canines. They eventually catch up to you, and, using their sense of smell, win at hide and seek.\n\nYou are dog chow.\n\n[[Restart?|Start]]</div><div tiddler="Jump onto shack" tags="" created="201701301803" modifier="twee" twine-position="42,2172">You make a flying leap atop the rickety shack, and to your great appeal, does not collapse! The dogs rush to the base of the shack, jumping onto the walls and failing to climb the structure. One enters the shack, and a loud howl rings out, calling the remaining dogs to join him.\n\nA few confused minutes later, the dogs leave back towards the jungle, each looking statisfied and carrying jars of fish product.\n\n[[Get down from Shack|River]] </div><div tiddler="Stop" tags="ending" created="201701291117" modifier="twee" twine-position="1898,1069">Thinking that you have gone far enough, you stop. Panting, you catch your breath and wipe your eyes with your torn shirt. You can still feel the endless pain from the snake bite. You bend down to examine it, but your partially blurred vision is hindering your inspection. You feel like passing out. You lie down on the ground and rest your eyes for what it seems like an eternity. It is over for you.\n\n[[Restart?|Start]]</div><div tiddler="Stranded2" tags="" created="201701291801" modifier="twee" twine-position="761,1463">You confidently steer to the right, and immediately speed off the waterfall into the air. Screaming, you plummet to sure doom and blackout before you crash.\n\nWhen you awaken, you discover you are at sea, without any supplies except for &lt;&lt;displayinv&gt;&gt;,  in a fully fueled boat and miles and miles away from any land.\n\nIf only you knew where to drive towards.\n\n[[Restart?|Start]]</div><div tiddler="Attack!" tags="" created="201701301729" modifier="twee" twine-position="1639,492">You slash at the snake with your knife, and tear a gash into it's neck. It hisses violently, and flees. \n\n[[Return|Main Cave]]</div><div tiddler="Cabinet" tags="" created="201701291622" modifier="twee" twine-position="1478,1390">Within a cabinet you find multiple jars of fish paste and fish. They smell quite fishy, which is to be expected of unknownspanoftime-old fish. The rest of the cabinets are exactly the same, just with different colored woods materials.\n\n[[Eat fish paste]]\n&lt;&lt;if $havePaste is false&gt;&gt;[[Take some fish paste]]&lt;&lt;endif&gt;&gt;\n&lt;&lt;if $damnJam is false&gt;&gt;[[Eat fish jam|Eat fish jam?]]\n&lt;&lt;endif&gt;&gt;\s\n[[Stop looking at cabinets|Shack]]</div><div tiddler="Stranded" tags="ending" created="201701291753" modifier="twee" twine-position="890,1463">The river ahead splits into two, but you are unable to steer away from the roaring waterfall on the right. Screaming, you plummet to sure doom and blackout.\n\nWhen you awaken, you discover you are at sea, in a unfueled boat, without any supplies except for &lt;&lt;displayinv&gt;&gt;, miles and miles away from any land.\n\n[[Restart?|Start]]</div><div tiddler="Drowning" tags="ending" created="201701291548" modifier="twee" twine-position="1019,686">You fully believe you can swim in the river, and dive in. Your form and strokes are so skillful, you could almost hear the sounds of announcers praising your swimming.\n\nThen the piranha make their opinion of your swimming clear.\nYour last thoughts, before choking on water and your own blood, are //Maybe I shouldn't swim in a jungle//\n\n[[Restart?|Start]]</div><div tiddler="crack" tags="" created="201701272103" modifier="twee" twine-position="264,441">&lt;&lt;if $crack is true&gt;&gt;The crack is  a tennis-ball sized hole.&lt;&lt;endif&gt;&gt;</div><div tiddler="Nap time" tags="place" created="201701290943" modifier="twee" twine-position="1579,136">You scrape your foot and stretch your leg as far as you can to feel the texture of the dusty dirt. You cannot see completely so you bend down and utilize your hands to estimate if you have enough room.\n\n[[&quot;I can work with this.&quot;|Enough room]]\n[[&quot;Actually, I can move a bit to the left.&quot;|Left spot]]\n[[&quot;No, I can move to the right.&quot;|Right spot]]</div><div tiddler="StoryTitle" tags="" created="201701271943" modifier="twee" twine-position="415,11">Jungle Escape (Version 0.1)\n</div><div tiddler="LeftJunglePath" tags="" created="201701301211" modifier="twee" twine-position="67,1340">Going left, you notice that the dirt is a bit muddier than before. The squishy mud begins to cling on to your shoes as you keep going deeper. You look down to observe that as you go even deeper, the amount of mud increases. &lt;&lt;if ($inv.indexOf(&quot;batteries&quot;) gte 0)&gt;&gt;There's nothing of note here, not anymore.&lt;&lt;else&gt;&gt;You feel like turning back when you notice something stick out of the dirt right in front of you. \n\nCurious, you suck it up and walk a little more. You look for a clean spot and pick up the item slowly not wanting to get your hands muddy. Not being able to tell what the item is due to the mud, you look around and find moist, giant leaves. You pick two; one is for placing the item down and the other is for wiping off the excess mud. \n&lt;&lt;set $inv.push(&quot;batteries&quot;)&gt;&gt;\n\nAfter approximately thirty minutes of wiping off the mud, you discover that you have found batteries. You are not completely sure if they are still functioning, but you bring them with you and head back.&lt;&lt;endif&gt;&gt;\n\n[[Head back|Jungle B]]</div><div tiddler="findTools" tags="" created="201701291633" modifier="twee" twine-position="1264,1576">Within the pile you are able to see &lt;&lt;if $shackCrowbar is true&gt;&gt;a crowbar&lt;&lt;endif&gt;&gt;\s\n&lt;&lt;if ($shackCrowbar is true) and ($shackKnife is true)&gt;&gt; and &lt;&lt;endif&gt;&gt;\s\n&lt;&lt;if $shackKnife is true&gt;&gt;a small knife&lt;&lt;endif&gt;&gt;\s\n&lt;&lt;if ($shackKnife is false) and ($shackCrowbar is false)&gt;&gt;unbroken junk&lt;&lt;endif&gt;&gt;\s\n, along with a bunch of broken junk.\n\n&lt;&lt;if $shackCrowbar is true&gt;&gt;[[Take Crowbar|takeCrowbar]]\n&lt;&lt;endif&gt;&gt;\s\n&lt;&lt;if $shackKnife is true&gt;&gt;[[Take Knife|takeKnife]]\n&lt;&lt;endif&gt;&gt;\s\n[[Return|Cabinet]]</div><div tiddler="Keep running away" tags="" created="201701291111" modifier="twee" twine-position="1776,939">You keep trying to run away while limping. The pain hurts, and your hot tears drip down your dirtied face. \n\n[[Turn around|Turn]]\n[[Keep going|Keep going]]\n[[Stop|Stop]]</div><div tiddler="RightJunglePath" tags="" created="201701301211" modifier="twee" twine-position="375,1555">&lt;&lt;if $inv.indexOf(&quot;the gas-cap&quot;) gte 0&gt;&gt;\s\nYou walk down the right-hand path, and it slowly narrows the further you go as before. You can hear the jaguar ahead, and it's sounding hungry again.\n[[Go back to where you encountered the two paths|Jungle A]]\n&lt;&lt;else&gt;&gt;After contemplating for a bit, you choose the path on the right. The path just gets narrower and narrower by the minute, and you feel uncomfortable. You keep following the path when you reach a dead end. Sighing, you are about to head back when you noticed that your shoelace was untied. \nYou bend down and retie your shoe. You are about to double-knot it until a shiny object captures your attention at the corner of your eye. You quickly resume your task of tying your shoelace and reach for the mysterious object. You carefully inspect the small round object. You look at every nook and cranny until you finally realize what is in your hand.\n&lt;&lt;set $inv.push(&quot;the gas-cap&quot;)&gt;&gt;\n\n//A gas-cap?//\n\nBelieving that it will come in handy later, you put it in your pocket and head back.\n\n[[Go back to where you encountered the two paths|Jungle C]]\n&lt;&lt;endif&gt;&gt;</div><div tiddler="Jungle C" tags="" created="201701301811" modifier="twee" twine-position="521,1771">There is a jaguar conveniently blocking your path. It WAS sleeping, but your steps have awoken it, and it is understandably upset.\n\n&lt;&lt;if ($inv.indexOf(&quot;a loaded flare gun&quot;) gte 0)&gt;&gt;[[Attack with flare gun]]\n&lt;&lt;endif&gt;&gt;\s\n&lt;&lt;if ($inv.indexOf(&quot;a small knife&quot;) gte 0)&gt;&gt;[[Attack with knife]]\n&lt;&lt;endif&gt;&gt;\s\n&lt;&lt;if ($inv.indexOf(&quot;a jar of fish paste&quot;) gte 0)&gt;&gt;[[Attack with fish paste]]\n&lt;&lt;endif&gt;&gt;\s\n[[Run away|Cornered]]</div><div tiddler="Staying right pt2" tags="" created="201701291048" modifier="twee" twine-position="1891,395">&lt;&lt;set $bugs to [&quot;termites&quot;, &quot;ants&quot;]&gt;&gt;You are about to go to sleep when you feel something crawl on your face. You think you are imagining it until you feel even more movement but faster. Using your light source, you find &lt;&lt;print either($bugs)&gt;&gt; coming out of the mound.\nScreaming, you hastily and sloppily wipe your face and your body. You try to get your jacket for coverage, but you find that the bugs have taken over it. Your fear of bugs has turned against you and you faint.\n\n[[continue|Faint]]</div><div tiddler="Jungle A" tags="place" created="201701291414" modifier="twee" twine-position="241,1183">Your footsteps mimic the eerie sound of animals crawling within the trees as you enter the jungle. Looking up, you spot trees larger than skyscrapers. They mostly block the view of the bright sun, and you are surrounded by utter shade. Birds chirp and monkeys howl as you go in deeper. In pictures, you would be amused, but right now you are terrified to the bone.\nYour breathe deepens as you continue to explore when you are faced with two oddly-looking paths.\n\n[[Return to foot of mountain|Mouth of Cave]]\n[[Go right.|RightJunglePath]]\n[[Go left.|LeftJunglePath]]\n</div><div tiddler="OpenCrack" tags="" created="201701272134" modifier="twee" twine-position="134,443">You attempt to widen the crack to escape, but it is too far out of reach. You spot a mid-sized rock and throw it at the small aperture, successfully smashing a fish-sized hole into the ceiling. You then realize that you cannot reach the hole, much less fit through it.\n\n[[Return|LitStart]]</div><div tiddler="Staying left" tags="" created="201701291044" modifier="twee" twine-position="1494,484">You are too lazy to move again since you are already lying down so you scrunch your legs up and fall asleep. \n\n[[continue|Staying left pt2]]\n\n</div><div tiddler="Squish" tags="" created="201701291140" modifier="twee" twine-position="2099,33">Feeling like you have had enough, you squish the centipede in anger. You do not know whether to cry, freak out, or stay calm. Letting out a loud sigh, you grab your loot and head out.\n\n[[Go back to the cave|Main Cave]]</div><div tiddler="Lost" tags="" created="201701291838" modifier="twee" twine-position="563,1587">After several hours of frustrated backtracking, wild guesses, and near crashes, you eventually collapse on the deck of your speedboat, and lose the will to go on. \n\nAs a pack of angry crocodiles jump onto your stopped speedboat, your only regret was not powering the GPS.\n\n[[Restart?|Start]]</div><div tiddler="Keep going" tags="ending" created="201701291117" modifier="twee" twine-position="1770,1069">You're too scared to check if you lost the snake so you keep running for your life. Your tears get lost in your eyes that you become partially blind. You keep running until you trip over a branch and your head smashes a pointy rock. Blood drips to the ground as your vision gets dizzier by the second. It is too late for you, and you black out.\n\n[[Restart?|Start]]</div><div tiddler="Drive Boat" tags="" created="201701291550" modifier="twee" twine-position="764,1172">You decide to drive the boat. You start up the engine, \nand pull out of the dock, quite roughly. //Might as well learn how to drive a boat on the fly//\n\n&lt;&lt;if $boatState is false&gt;&gt;[[To freedom?|NoGas]]\s\n&lt;&lt;else&gt;&gt;&lt;&lt;if $gpsState is false&gt;&gt;[[To freedom?|NoMap]]\s\n&lt;&lt;else&gt;&gt;[[To freedom!|Escape]]&lt;&lt;endif&gt;&gt;&lt;&lt;endif&gt;&gt;</div><div tiddler="takeKnife" tags="" created="201701291704" modifier="twee" twine-position="1235,1715">&lt;&lt;set $inv.push(&quot;a small knife&quot;)&gt;&gt;\n&lt;&lt;set $shackKnife = false&gt;&gt;\nYou put the small knife into your pockets.\nYou will take great care not to accidentally stab yourself with it when you sit down.\n\nYour inventory now contains &lt;&lt;displayinv&gt;&gt;.\n\n[[Return|Shack]]</div><div tiddler="1 hour" tags="" created="201701291008" modifier="twee" twine-position="1960,216">You were too tired and sleep for an hour. After waking up, you feel refreshed and go back to the cave.\n\n[[Go back to the cave|Main Cave]]</div><div tiddler="takeCrowbar" tags="" created="201701291704" modifier="twee" twine-position="1401,1618">&lt;&lt;set $inv.push(&quot;a crowbar&quot;)&gt;&gt;\n&lt;&lt;set $shackCrowbar = false&gt;&gt;\nYou somehow put the crowbar into your pockets.\nYou probably shouldn't question it...\n\nYour inventory now contains &lt;&lt;displayinv&gt;&gt;.\n\n[[Return|Shack]]</div><div tiddler="Attack with flare gun" tags="" created="201701301831" modifier="twee" twine-position="644,2009">You fire your flare at the jaguar, hoping to scare it off. The large feline is singed by the flames, and flees the scene. \n\n[[Return|Jungle A]]</div><div tiddler="Inspect Shack" tags="" created="201701291545" modifier="twee" twine-position="1159,1247">The shack is only a shack in the loosest form of the word: holes, rot, and cobwebs cover the shanty. The lights are off, the door's missing, and there's a faint smell of rotting fish wafting out from the inside. Lovely.\n\n[[Return|River]]</div><div tiddler="Leave it be" tags="" created="201701291148" modifier="twee" twine-position="2102,162">You cringe at the thought of getting its guts all over your clothes so you leave the little guy alone. You double check your body to see if there are any more creepy crawlers trying to invade your bubble. After successfully being bug-free, you grab your loot and go out.\n\n[[Go back to the cave|Main Cave]]</div><div tiddler="LitStart" tags="place" created="201701272051" modifier="twee" twine-position="201,265">&lt;&lt;if $cavelight is true&gt;&gt;You flick the lighter on, and banish the darkness. With the room much more reasonably visible, you quickly identify it as a cave. &lt;&lt;set $cavelight = false&gt;&gt;\n\n&lt;&lt;endif&gt;&gt;\s\n\s\nYou are in a cave about the size of a cubicle. More to the point, aside from a glowing crack in the ceiling, there is no visible exit aside from a small tire-sized hole in the wall, a foot from the floor. &lt;&lt;display crack&gt;&gt;\n\n&lt;&lt;if $crack is false&gt;&gt;[[Attempt to break open ceiling crack|OpenCrack][$crack = true]]&lt;&lt;endif&gt;&gt;\n[[Inspect hole|HoleInfo]]\n[[Crawl into hole|Main Cave]]</div><div tiddler="Inspect Boat" tags="" created="201701291425" modifier="twee" twine-position="1170,1101">The boat appears be a modified speedboat: there are very large fuel tanks attached to the front and back. Presumeably this is so that the user can go back and forth from the jungle to... wherever this jungle is near. &lt;&lt;boatState&gt;&gt;. You can see a GPS attached to the dashboard, &lt;&lt;gpsState&gt;&gt;. Aside from these additions, it's your average rusty speedboat, complete with odd scratches and unidentifiable stains.\n\n[[Return|River]]</div><div tiddler="Attack Dogs" tags="" created="201701301745" modifier="twee" twine-position="310,1758">As you swing at the mutt, the group tackles you and starts biting away, causing you to miss. You manage to shove them all off, but not before they give you a many of lacerations and bites.\n\n&lt;&lt;set $dogHealth = $dogHealth -1&gt;&gt;\n&lt;&lt;if $dogHealth gt 0&gt;&gt;[[Return|Target]]\n&lt;&lt;else&gt;&gt;[[Collapse]]&lt;&lt;endif&gt;&gt;</div><div tiddler="Shack" tags="place" created="201701291548" modifier="twee" twine-position="1255,1398">The shack contains as much filth on the inside as it does the outside. Cabinets line the walls, filled with strange preserves and fish-related edibles, and a large table in the center of the shack contains worn tools, such as hooks and fishing rods. Most shockingly, there is a human skeleton in the corner, confirming that this is an abandoned shack.\n\n[[Search pile for tools|findTools]]\n[[Eat from cabinets|Cabinet]]\n[[Inspect Skeleton|Skelly]]\n[[Leave Shack|River]]</div><div tiddler="Attack Alpha Dog" tags="" created="201701301747" modifier="twee" twine-position="197,1884">You challenge the alpha dog, baiting him to charge you head on.\nAs he runs to attack you, his lackeys stay back to bark at you, and you make a visious attack of opportunity.\n\nHe falls to the floor with a wound in his side, and runs off, his party following.\n\n[[Head back|Jungle A]]</div><div tiddler="Loot" tags="" created="201701272155" modifier="twee" twine-position="1110,229">You try to open the crates with your crowbar, and after some physical effort manage to pry the dusty boxes open. Your efforts are rewarded with a single flare and a flare gun. you load the flaregun.\n\nAfter all that effort, you feel sweat falling down the side of your face and your heartbeat pumping indefinitely. You are out of breath and want to rest.&lt;&lt;set $inv.push(&quot;a loaded flare gun&quot;)&gt;&gt;\n\n[[&quot;I can't nap now.&quot;|Main Cave]]\n[[&quot;As long as I've got these, I can take a quick nap.|Nap time]]</div><div tiddler="River" tags="place" created="201701291414" modifier="twee" twine-position="978,1018">&lt;&lt;if $discoveredRiver is false&gt;&gt;After some walking you discover the source of the sound, a large river flowing out from a waterfall on the mountain, widening towards what you can easily assume is the ocean.&lt;&lt;set $discoveredRiver = true&gt;&gt;\n&lt;&lt;endif&gt;&gt;\s\n\s\nThe river flows in an easternly direction, not that you could follow it up or downsteam by foot: the vines and plantlife is convinently blocking the way. There is a dock here, complete with a shack and a boat.\n\n[[Inspect Boat]]\n&lt;&lt;if ($inv.indexOf(&quot;the gas-cap&quot;) gte 0) or ($inv.indexOf(&quot;batteries&quot;) gte 0)&gt;&gt;[[Repair Boat]]\n&lt;&lt;endif&gt;&gt;\s\n[[Drive Boat]]\n[[Inspect Shack]]\n[[Enter Shack|Shack]]\n[[Swim in river?|Drowning]]\n[[Return to base of mountain|Mouth of Cave]]\n\n</div><div tiddler="Run to river" tags="" created="201701301759" modifier="twee" twine-position="9,2049">You  rush towards the river, and climb atop the boat. The dogs are unable to jump on, but seem content to wait for you to continue the chase. The far side of the river looks clear of dogs, and the roof of the shack is only a leap away. Driving the boat is most definitely appealing, and the dogs block the path towards the cave, barking louder as you try to think.\n\n[[Swim across river|Drowning]]\n&lt;&lt;if ($inv.indexOf(&quot;the gas-cap&quot;) gte 0) or ($inv.indexOf(&quot;batteries&quot;) gte 0)&gt;&gt;[[Repair Boat]]\n&lt;&lt;endif&gt;&gt;\s\n[[Drive Boat]]\n[[Jump onto shack]]\n[[Run from area|Dog chase]]</div><div tiddler="NoGas" tags="" created="201701291746" modifier="twee" twine-position="873,1323">As you triumphantly drive down river, you start to slow down halfway to the sea. Confused, you try to accelerate the boat without much luck, and to your dismay you hear the sounds of the engine dying. \n\nLooking around, you see that you've left a trail of gasoline behind you. The main fuel tank is covered in spilled gas, and has even split in two.\n\nTurns out the gas cap not only kept the gasoline from escaping, but was also loadbearing since the tank itself was so rusted and damaged.\n\nUnable to control the boat, you speed downriver, and start to hear the sounds of a waterfall.\n\n[[Oh no.|Stranded]]</div><div tiddler="Collapse" tags="ending" created="201701301753" modifier="twee" twine-position="326,1882">As you attempt to get back onto your feet, you struggle to even get to your knees. Seeing your weakness, the pack pounces and is much more ferocious in their assault. You've taken too many bites from the dogs to hold your ground anymore.\n\nYou are dog chow.\n\n[[Restart?|Start]]</div><div tiddler="Left spot" tags="place" created="201701290955" modifier="twee" twine-position="1465,343">You go to the left spot and make your bed. Although you definitely prefer your actual bed, you can make do with this one for a while. You lie down but the height of the dirt is uneven making it a bit uncomfortable for you to rest. \n\n[[Go back to where you were in the beginning|Enough room]]\n[[Go to the right spot|Right spot]]\n[[Stay where you are|Staying left]]</div><div tiddler="Insert batteries" tags="" created="201701291905" modifier="twee" twine-position="520,1016">You insert the batteries into the unpowered GPS.\nIt appears to have a destination preprogrammed, which makes escaping this place a lot easier.\n\n&lt;&lt;set $inv.splice($inv.indexOf(&quot;batteries&quot;),1)&gt;&gt;\s\n&lt;&lt;set $gpsState = true&gt;&gt;\s\n&lt;&lt;if $dogChase is false&gt;&gt;[[Return|River]]\s\n&lt;&lt;else&gt;&gt;[[Return|Run to river]]&lt;&lt;endif&gt;&gt;</div><div tiddler="Cornered" tags="" created="201701301831" modifier="twee" twine-position="757,1798">You start to run away from the jaguar, and hurry back towards where you found the gas-cap. Once you reach the dead end, so does the big cat, who triumphantly growls as it walks towards you. \n\n//Why did it have to be a dead end?//\n\n[[Restart?|Start]]</div><div tiddler="Turn" tags="ending" created="201701291117" modifier="twee" twine-position="1905,944">You viciously turn your head around to search for the snake. When you see that the snake is gone, you turn your head forwards, but all of a sudden you trip on uneven ground and smack your head against a fallen tree. The impact was so hard that you cannot regain your consciousness. All you can do is close your eyes until you cannot see anything but black\n\n[[Restart?|Start]]</div><div tiddler="Past Swamp" tags="ending" created="201701291838" modifier="twee" twine-position="684,1588">You manage to navigate past the swamp and encounter a calm river. Ahead lies the ocean. \n\nDespite lacking a map, you confidently continue onwards, with the hope of someday coming across land away from this strange jungle island.\n\nYou don't.\n\n[[Restart?|Start]]</div><div tiddler="HoleInfo" tags="" created="201701272135" modifier="twee" twine-position="135,567">Upon further inspection, you notice the smoothness of the hole: practically tractionless. A perfect tunnel, a possibly a dirt tube. Perhaps it leads somewhere? It is clean, so you won't get dirty, although there might be some scrapes.\n\n[[Return|LitStart]]</div><div tiddler="Main Cave" tags="place" created="201701272138" modifier="twee" twine-position="824,349">&lt;&lt;if $slide is true&gt;&gt;As you enter the hole, you quickly lose your grip and tumble forward, letting go of your lighter a few feet inside. If you weren't busy sliding down through pure darkness, you'd have sworn it was a stone playground slide. As you finally reach the bottom, you are greeted with a much larger room than before. Your lighter also pops out of the hole, to your relief.  &lt;&lt;set $slide = false&gt;&gt;\n&lt;&lt;endif&gt;&gt;\s\n\s\nYou are in a large cave. An exit is clearly visible, and it appears to be daytime given the sunlight outside. There is a hole on the wall leading back to the room where you woke up; however, you doubt you could climb back up through it.\n\n&lt;&lt;if $inv.indexOf(&quot;a crowbar&quot;) gte 0&gt;&gt;There are some opened crates labled &quot;EMERGENCY FLARES&quot;, now empty.&lt;&lt;else&gt;&gt;There are some sealed crates here, though without tools, you'll find it too difficult to open them. They are marked &quot;EMERGENCY FLARES&quot;.&lt;&lt;endif&gt;&gt;\s\n\n[[Exit cave|Mouth of Cave]]\n&lt;&lt;if $inv.indexOf(&quot;a crowbar&quot;) gte 0&gt;&gt;[[Open crates|Loot]]\s\n&lt;&lt;else&gt;&gt;[[Open crates|CrateFail]]&lt;&lt;endif&gt;&gt;</div><div tiddler="Staying right" tags="" created="201701291019" modifier="twee" twine-position="1765,395">You decide to stay where you are and rest your head on the dummy pillow. You lie down and wrap your dirty jacket around you. You feel the warm fleece engulfing you with slight warmth. \n\n[[continue|Staying right pt2]]</div><div tiddler="30 minutes" tags="" created="201701291008" modifier="twee" twine-position="1964,90">After your quick nap, you still feel a bit tired. You get up to return to the cave, but you feel something crawl up your leg. Looking down, you find a gigantic centipede swaying its tiny legs back and forth. The touch gives you the chills so you wave your hands to swat the centipede away. \n\n[[Squish the centipede|Squish]]\n[[Leave it be.|Leave it be]]</div><div tiddler="Escape" tags="good ending" created="201701291746" modifier="twee" twine-position="446,1339">With the engine started and the GPS turned on, //DESTINATION SET, FOLLOW THE RIVER// is blasted by the navigation device as you rush towards freedom.\n\nAs you triumphantly speed down the river, you encounter\na fork in the road, accompanied by the roar of a waterfall sure to be ahead. Thankfully, you have a GPS system enabled, and correctly take the left-hand path away from death, and speed downhill.\n\nOnce you reach the bottom of the hill, you encounter a maze-like swamp. Before you begin to despair however, the GPS begins barking //LEFT, RIGHT, LEFT, LEFT// and other directions. You navigate out of the swamp before long, and from there it's clear sailing.\n\nAhead lies the ocean, and with the GPS taking you to who-knows-where, you successfully escape the jungle island!\n\nWhat happens next is that you arrive in a strange land, but that's for another story.\n\n[[Play again?|Start]]</div><div tiddler="Attack with knife" tags="" created="201701301831" modifier="twee" twine-position="776,1946">You attack the jaguar, swiping at it's jugular!\nIt nimbly dodges, then returns fire, swiping at yours!\n\nYou are not so good at the whole dodging thing though.\n\n[[Restart?|Start]]</div><div tiddler="StoryAuthor" tags="" created="201701271943" modifier="twee" twine-position="285,13">Team Placeholder Title\nTeam Members: Janelynn Camingue and Axel Murrillo\n</div><div tiddler="Speed" tags="" created="201701291804" modifier="twee" twine-position="640,1463">You successfully avoid the waterfall, and speed downhill towards a mazelike swamp.\n\nIt is at this point that the gps attachment for the boat made perfect sense.\n\n[[Attempt to navigate through the swamp|either(&quot;Past Swamp&quot;,&quot;Lost&quot;,&quot;Lost&quot;,&quot;Lost&quot;, &quot;Lost&quot;)]] </div><div tiddler="Freeze pt2" tags="" created="201701291058" modifier="twee" twine-position="1518,875">You continue to freeze. After what had seemed like forever, the snake finally flees. You let go of your breath and hold your chest. Now that you are totally awake, you grab your loot and continue your mission.\n\n[[Go back to the cave.|Main Cave]]</div><div tiddler="deathJam" tags="ending" created="201701291647" modifier="twee" twine-position="1756,1398">Against all common sense, you pour the vile jam into your mouth.\n\nYou die instantly.\n\n[[Restart?|Start]]</div></div></body></html>
